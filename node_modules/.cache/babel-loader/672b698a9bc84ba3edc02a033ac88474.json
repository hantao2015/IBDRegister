{"ast":null,"code":"import _Input from \"antd/es/input\";\nimport _List from \"antd/es/list\";\nimport _Popconfirm from \"antd/es/popconfirm\";\nimport _Button from \"antd/es/button\";\nimport _Form from \"antd/es/form\";\nimport _message from \"antd/es/message\";\nvar _jsxFileName = \"/Users/mac/Desktop/IBDRegister/src/components/busniess/ApplyProject/ApplyProject.js\";\nimport React, { Component } from \"react\";\nimport \"./ApplyProject.less\";\nimport ApplyDataBase from \"../ApplyDataBase\";\nimport http from \"../../../utils/api\";\nimport ShowImage from \"../ApplyDataBase/ShowImage\";\nimport applyProjectImage from \"../../../assets/images/1556898894199.jpg\";\nconst applyProjectId = \"620475440053\";\n\nclass ApplyProject extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      imageUrl: \"\",\n      applyList: [],\n      page: \"listPage\",\n      record: {},\n      loading: false\n    };\n\n    this.getApplyData = async () => {\n      let res;\n      this.setState({\n        loading: true\n      });\n\n      try {\n        res = await http().getTable({\n          resid: applyProjectId\n        });\n        let data = [];\n        res.data.data.map(item => {\n          let studyType = item.studyType && item.studyType.split(\",\");\n          item.studyType = studyType;\n          data.push(item);\n        });\n\n        if (res.data.error == 0) {\n          this.setState({\n            applyList: data\n          });\n        }\n      } catch (error) {\n        _message.error(error.message);\n      }\n\n      this.setState({\n        loading: false\n      });\n    };\n\n    this.handleSubmit = (e, type) => {\n      // console.log(\"e\",e,type)\n      // e.preventDefault();\n      this.props.form.validateFieldsAndScroll((err, values) => {\n        if (!err) {\n          this.onSubmit(values, type);\n        }\n      });\n    };\n\n    this.onSubmitRecord = async record => {\n      let res;\n      record.isSubmit = \"Y\";\n\n      try {\n        res = await http().modifyRecords({\n          resid: applyProjectId,\n          data: [record]\n        });\n\n        if (res.data.Error == 0) {\n          _message.success(\"提交成功\");\n        }\n      } catch (error) {\n        _message.error(error.message);\n      }\n    };\n\n    this.onSubmit = async (values, type) => {\n      let res;\n      let obj = {};\n      let study = values.study && values.study.toString();\n\n      if (type === 1) {\n        obj = {\n          doctor: values.doctor,\n          hospital: values.hospital,\n          task: values.task,\n          phoneNumber: values.phone,\n          email: values.email,\n          taskPrincipal: values.taskPrincipal,\n          studyType: values.studyType,\n          inlandUnit: values.inlandUnit,\n          foreignUnit: values.foreignUnit\n        };\n      } else {\n        obj = {\n          doctor: values.doctor,\n          hospital: values.hospital,\n          task: values.task,\n          phoneNumber: values.phone,\n          email: values.email,\n          taskPrincipal: values.taskPrincipal,\n          studyType: values.studyType,\n          inlandUnit: values.inlandUnit,\n          foreignUnit: values.foreignUnit,\n          isSubmit: \"Y\"\n        };\n      }\n\n      try {\n        res = await http().addRecords({\n          resid: applyProjectId,\n          data: [obj]\n        });\n\n        if (res.data.Error == 0) {\n          _message.success(\"申请成功！\");\n        }\n\n        this.setState({\n          page: \"listPage\"\n        });\n        this.getApplyData();\n      } catch (error) {\n        _message.error(error.message);\n      }\n    };\n\n    this.onApply = () => {\n      this.setState({\n        page: \"applyPage\"\n      });\n    };\n\n    this.onBack = () => {\n      this.setState({\n        page: \"listPage\"\n      });\n    };\n\n    this.onCheck = item => {\n      console.log(\"aaa\");\n      this.setState({\n        page: \"checkPage\",\n        record: item\n      });\n    };\n\n    this.showImage = () => {\n      this.setState({\n        page: \"showImagePage\"\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.getApplyData();\n  } //获取申请记录\n\n\n  render() {\n    const getFieldDecorator = this.props.form.getFieldDecorator;\n    const _this$state = this.state,\n          imageUrl = _this$state.imageUrl,\n          applyList = _this$state.applyList,\n          loading = _this$state.loading,\n          page = _this$state.page,\n          record = _this$state.record;\n    const formItemLayout = {\n      labelCol: {\n        xs: {\n          span: 24\n        },\n        sm: {\n          span: 8\n        }\n      },\n      wrapperCol: {\n        xs: {\n          span: 24\n        },\n        sm: {\n          span: 16\n        }\n      }\n    };\n    const tailFormItemLayout = {\n      wrapperCol: {\n        xs: {\n          span: 24,\n          offset: 0\n        },\n        sm: {\n          span: 16,\n          offset: 8\n        }\n      }\n    };\n    const options = [{\n      label: \"单中心研究\",\n      value: \"单中心研究\"\n    }, {\n      label: \"多中心研究\",\n      value: \"多中心研究\"\n    }, {\n      label: \"第三方研究\",\n      value: \"第三方研究\"\n    }, {\n      label: \"所有研究\",\n      value: \"所有研究\"\n    }];\n    const pages = {\n      showImagePage: React.createElement(ShowImage, {\n        image: applyProjectImage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      }),\n      checkPage: React.createElement(_Form, Object.assign({}, formItemLayout, {\n        // onSubmit={this.handleSubmit}\n        className: \"applyProject-form\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193\n        },\n        __self: this\n      }), React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198\n        },\n        __self: this\n      }, \"CHASE-IBD\\u4E13\\u9879\\u8BFE\\u9898\\u7533\\u8BF7\\u8868\"), React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199\n        },\n        __self: this\n      }, \"\\u57FA\\u672C\\u4FE1\\u606F\"), React.createElement(_Form.Item, {\n        label: React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 200\n          },\n          __self: this\n        }, \"\\u8BFE\\u9898\\u540D\\u79F0\\xA0\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201\n        },\n        __self: this\n      }, record.doctor)), React.createElement(_Form.Item, {\n        label: React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 203\n          },\n          __self: this\n        }, \"\\u8BFE\\u9898\\u8D1F\\u8D23\\u4EBA\\xA0\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204\n        },\n        __self: this\n      }, record.hospital)), React.createElement(_Form.Item, {\n        label: React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 206\n          },\n          __self: this\n        }, \"\\u7533\\u8BF7\\u4EBA\\xA0\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207\n        },\n        __self: this\n      }, record.post)), React.createElement(_Form.Item, {\n        label: React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 209\n          },\n          __self: this\n        }, \"\\u6240\\u5C5E\\u5355\\u4F4D\\xA0\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210\n        },\n        __self: this\n      }, record.phoneNumber)), React.createElement(_Form.Item, {\n        label: React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 212\n          },\n          __self: this\n        }, \"\\u804C\\u79F0\\xA0\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213\n        },\n        __self: this\n      }, record.email)), React.createElement(_Form.Item, {\n        label: React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 215\n          },\n          __self: this\n        }, \"\\u8054\\u7CFB\\u7535\\u8BDD\\xA0\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216\n        },\n        __self: this\n      }, record.email)), React.createElement(_Form.Item, {\n        label: React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 218\n          },\n          __self: this\n        }, \"E-mail\\xA0\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219\n        },\n        __self: this\n      }, record.email)), React.createElement(_Form.Item, {\n        label: React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 221\n          },\n          __self: this\n        }, \"\\u62DF\\u5B9A\\u56FD\\u5185\\u534F\\u4F5C\\u5355\\u4F4D\\xA0\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222\n        },\n        __self: this\n      }, record.email)), React.createElement(_Form.Item, {\n        label: React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 224\n          },\n          __self: this\n        }, \"\\u62DF\\u5B9A\\u56FD\\u9645\\u534F\\u4F5C\\u5355\\u4F4D\\xA0\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 225\n        },\n        __self: this\n      }, record.email)), React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 239\n        },\n        __self: this\n      }, \"\\u7814\\u7A76\\u5185\\u5BB9\"), React.createElement(_Form.Item, {\n        label: React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 241\n          },\n          __self: this\n        }, \"CD\\u60A3\\u8005\\u6570\\u91CF\\xA0\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 241\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 242\n        },\n        __self: this\n      }, record.CDPatientNumber)), React.createElement(_Form.Item, {\n        label: React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 244\n          },\n          __self: this\n        }, \"UC\\u60A3\\u8005\\u6570\\u91CF\\xA0\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 244\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 245\n        },\n        __self: this\n      }, record.UCPatientNumber)), React.createElement(_Form.Item, {\n        label: React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 247\n          },\n          __self: this\n        }, \"\\u533B\\u5E08\\u6267\\u7167\\xA0\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 247\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: record.doctorPhoto,\n        alt: \"avatar\",\n        style: {\n          backgroundSize: \"100%\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 248\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"applyProject-form-contain-notice\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 254\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 255\n        },\n        __self: this\n      }, \"\\u6765\\u81EA\\u6570\\u59D4\\u4F1A\\u7684\\u6279\\u6CE8\"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 256\n        },\n        __self: this\n      }, React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 257\n        },\n        __self: this\n      }, React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 258\n        },\n        __self: this\n      }, \"XX\\u6559\\u6388\\uFF1A1f\\u653E\\u677E\\u653E\\u677E\\u4ED8\\u6240\\u591A\\u4ED8\\u4ED8\\u4ED8\\u4ED8\\u4ED8\\u4ED8\"), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 259\n        },\n        __self: this\n      }, \"XX\\u6559\\u6388\\uFF1A2\"), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 260\n        },\n        __self: this\n      }, \"XX\\u6559\\u6388\\uFF1A3\"), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 261\n        },\n        __self: this\n      }, \"XX\\u6559\\u6388\\uFF1A444\")))), React.createElement(_Button, {\n        icon: \"download\",\n        type: \"primary\",\n        className: \"applyProject-form-print\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 264\n        },\n        __self: this\n      }, \"\\u6253\\u5370\")),\n      listPage: React.createElement(_List, {\n        className: \"applyProject-content-list\",\n        itemLayout: \"horizontal\",\n        dataSource: applyList,\n        renderItem: item => React.createElement(_List.Item, {\n          actions: [React.createElement(\"a\", {\n            key: \"list-loadmore-edit\",\n            onClick: () => {\n              this.onCheck(item);\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 281\n            },\n            __self: this\n          }, \"\\u67E5\\u770B\"), React.createElement(_Popconfirm, {\n            title: \"\\u4F60\\u786E\\u5B9A\\u8981\\u63D0\\u4EA4\\u5417\",\n            onConfirm: () => {\n              this.onSubmitRecord(item);\n            },\n            okText: \"Yes\",\n            cancelText: \"No\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 289\n            },\n            __self: this\n          }, React.createElement(\"a\", {\n            key: \"list-loadmore-edit\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 297\n            },\n            __self: this\n          }, \"\\u63D0\\u4EA4\"))],\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 279\n          },\n          __self: this\n        }, React.createElement(_List.Item.Meta, {\n          // avatar={\n          //   <Avatar src=\"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png\" />\n          // }\n          title: React.createElement(React.Fragment, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 307\n            },\n            __self: this\n          }, React.createElement(\"a\", {\n            className: \"applyProject-content-list-word\",\n            href: \"#\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 308\n            },\n            __self: this\n          }, \"\\u8BFE\\u9898\\u540D\\u79F0:\", item.task), React.createElement(\"a\", {\n            className: \"applyProject-content-list-word\",\n            href: \"#\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 311\n            },\n            __self: this\n          }, \"\\u6240\\u5C5E\\u5355\\u4F4D:\", item.hospital)),\n          description: item.status,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 302\n          },\n          __self: this\n        }), React.createElement(\"div\", {\n          className: \"applyProject-content-list-word\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 318\n          },\n          __self: this\n        }, \"\\u7533\\u8BF7\\u65E5\\u671F\\uFF1A\", item.doctor), React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 319\n          },\n          __self: this\n        }, \"\\u7533\\u8BF7\\u65E5\\u671F\\uFF1A\", item.REC_CRTTIME)),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 274\n        },\n        __self: this\n      }),\n      applyPage: React.createElement(_Form, Object.assign({}, formItemLayout, {\n        // onSubmit={this.handleSubmit}\n        className: \"applyProject-form\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 326\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"applyProject-form-contain\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 331\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"applyProject-form-contain-info\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 332\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 333\n        },\n        __self: this\n      }, \"CHASE-IBD\\u4E13\\u9879\\u8BFE\\u9898\\u7533\\u8BF7\\u8868\"), React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 334\n        },\n        __self: this\n      }, \"\\u57FA\\u672C\\u4FE1\\u606F\"), React.createElement(_Form.Item, {\n        label: React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 336\n          },\n          __self: this\n        }, \"\\b\\u8BFE\\u9898\\u540D\\u79F0\\xA0\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 336\n        },\n        __self: this\n      }, getFieldDecorator(\"task\", {\n        rules: [{\n          required: true,\n          message: \"请输入\b课题名称\",\n          whitespace: true\n        }]\n      })(React.createElement(_Input, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 345\n        },\n        __self: this\n      }))), React.createElement(_Form.Item, {\n        label: React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 347\n          },\n          __self: this\n        }, \"\\u8BFE\\u9898\\u8D1F\\u8D23\\u4EBA\\xA0\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 347\n        },\n        __self: this\n      }, getFieldDecorator(\"taskPrincipal\", {\n        rules: [{\n          required: true,\n          message: \"请输入\b课题负责人\",\n          whitespace: true\n        }]\n      })(React.createElement(_Input, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 356\n        },\n        __self: this\n      }))), React.createElement(_Form.Item, {\n        label: React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 358\n          },\n          __self: this\n        }, \"\\u7533\\u8BF7\\u4EBA\\xA0\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 358\n        },\n        __self: this\n      }, getFieldDecorator(\"doctor\", {\n        rules: [{\n          required: true,\n          message: \"请输入申请人\",\n          whitespace: true\n        }]\n      })(React.createElement(_Input, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 367\n        },\n        __self: this\n      }))), React.createElement(_Form.Item, {\n        label: React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 369\n          },\n          __self: this\n        }, \"\\u6240\\u5C5E\\u5355\\u4F4D\\xA0\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 369\n        },\n        __self: this\n      }, getFieldDecorator(\"hospital\", {\n        rules: [{\n          required: true,\n          message: \"请输入所属单位\",\n          whitespace: true\n        }]\n      })(React.createElement(_Input, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 378\n        },\n        __self: this\n      }))), React.createElement(_Form.Item, {\n        label: React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 380\n          },\n          __self: this\n        }, \"\\u804C\\u79F0\\xA0\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 380\n        },\n        __self: this\n      }, getFieldDecorator(\"post\", {\n        rules: [{\n          required: true,\n          message: \"请输入您的职称！\",\n          whitespace: true\n        }]\n      })(React.createElement(_Input, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 389\n        },\n        __self: this\n      }))), React.createElement(_Form.Item, {\n        label: React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 391\n          },\n          __self: this\n        }, \"\\u8054\\u7CFB\\u7535\\u8BDD\\xA0\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 391\n        },\n        __self: this\n      }, getFieldDecorator(\"phone\", {\n        rules: [{\n          required: true,\n          message: \"请输入您的联系电话!\",\n          whitespace: true\n        }]\n      })(React.createElement(_Input, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 400\n        },\n        __self: this\n      }))), React.createElement(_Form.Item, {\n        label: React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 402\n          },\n          __self: this\n        }, \"E-mail\\xA0\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 402\n        },\n        __self: this\n      }, getFieldDecorator(\"email\", {\n        rules: [{\n          required: true,\n          message: \"请输入您的邮箱!\",\n          whitespace: true\n        }]\n      })(React.createElement(_Input, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 411\n        },\n        __self: this\n      }))), React.createElement(_Form.Item, {\n        label: React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 413\n          },\n          __self: this\n        }, \"\\u62DF\\u5B9A\\u56FD\\u5185\\u534F\\u4F5C\\u5355\\u4F4D\\xA0\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 413\n        },\n        __self: this\n      }, getFieldDecorator(\"inlandUnit\", {\n        rules: [{\n          required: true,\n          message: \"请输入拟定国内协作单位!\",\n          whitespace: true\n        }]\n      })(React.createElement(_Input, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 422\n        },\n        __self: this\n      }))), React.createElement(_Form.Item, {\n        label: React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 424\n          },\n          __self: this\n        }, \"\\u62DF\\u5B9A\\u56FD\\u9645\\u534F\\u4F5C\\u5355\\u4F4D\\xA0\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 424\n        },\n        __self: this\n      }, getFieldDecorator(\"forignUnit\", {\n        rules: [{\n          required: true,\n          message: \"请输入拟定国际协作单位!\",\n          whitespace: true\n        }]\n      })(React.createElement(_Input, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 433\n        },\n        __self: this\n      }))), React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 435\n        },\n        __self: this\n      }, \"\\u7814\\u7A76\\u5185\\u5BB9\"))), React.createElement(_Button, {\n        className: \"applyProject-form-save\",\n        htmlType: \"submit\",\n        onClick: () => {\n          this.handleSubmit(this, 1);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 440\n        },\n        __self: this\n      }, \"\\u4FDD\\u5B58\"), React.createElement(_Button, {\n        type: \"primary\",\n        className: \"applyProject-form-submit\",\n        htmlType: \"submit\",\n        onClick: () => {\n          this.handleSubmit(this, 2);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 449\n        },\n        __self: this\n      }, \"\\u63D0\\u4EA4\"))\n    };\n    return React.createElement(ApplyDataBase, {\n      pages: pages,\n      page: this.state.page,\n      onBack: this.onBack,\n      showImage: this.showImage,\n      onApply: this.onApply,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 464\n      },\n      __self: this\n    });\n  }\n\n}\n\nexport default _Form.create()(ApplyProject);","map":{"version":3,"sources":["/Users/mac/Desktop/IBDRegister/src/components/busniess/ApplyProject/ApplyProject.js"],"names":["React","Component","ApplyDataBase","http","ShowImage","applyProjectImage","applyProjectId","ApplyProject","state","imageUrl","applyList","page","record","loading","getApplyData","res","setState","getTable","resid","data","map","item","studyType","split","push","error","message","handleSubmit","e","type","props","form","validateFieldsAndScroll","err","values","onSubmit","onSubmitRecord","isSubmit","modifyRecords","Error","success","obj","study","toString","doctor","hospital","task","phoneNumber","phone","email","taskPrincipal","inlandUnit","foreignUnit","addRecords","onApply","onBack","onCheck","console","log","showImage","componentDidMount","render","getFieldDecorator","formItemLayout","labelCol","xs","span","sm","wrapperCol","tailFormItemLayout","offset","options","label","value","pages","showImagePage","checkPage","post","CDPatientNumber","UCPatientNumber","doctorPhoto","backgroundSize","listPage","status","REC_CRTTIME","applyPage","rules","required","whitespace","create"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"./ApplyProject.less\";\nimport ApplyDataBase from \"../ApplyDataBase\";\nimport {\n  Collapse,\n  Icon,\n  Input,\n  Button,\n  Form,\n  Checkbox,\n  List,\n  Skeleton,\n  Avatar,\n  message,\n  Popconfirm,\n  Spin\n} from \"antd\";\nimport http from \"../../../utils/api\";\nimport ShowImage from \"../ApplyDataBase/ShowImage\";\nimport applyProjectImage from \"../../../assets/images/1556898894199.jpg\";\nconst applyProjectId = \"620475440053\";\n\nclass ApplyProject extends Component {\n  state = {\n    imageUrl: \"\",\n    applyList: [],\n    page: \"listPage\",\n    record: {},\n    loading: false\n  };\n  componentDidMount(){\n     this.getApplyData();\n  }\n\n  //获取申请记录\n  getApplyData = async () => {\n    let res;\n    this.setState({\n      loading: true\n    });\n    try {\n      res = await http().getTable({\n        resid: applyProjectId\n      });\n      let data = [];\n\n      res.data.data.map(item => {\n        let studyType = item.studyType && item.studyType.split(\",\");\n        item.studyType = studyType;\n        data.push(item);\n      });\n      if (res.data.error == 0) {\n        this.setState({\n          applyList: data\n        });\n      }\n    } catch (error) {\n      message.error(error.message);\n    }\n    this.setState({\n      loading: false\n    });\n  };\n\n  handleSubmit = (e, type) => {\n    // console.log(\"e\",e,type)\n    // e.preventDefault();\n    this.props.form.validateFieldsAndScroll((err, values) => {\n      if (!err) {\n        this.onSubmit(values, type);\n      }\n    });\n  };\n  //提交列表中的一条记录\n  onSubmitRecord = async record => {\n    let res;\n    record.isSubmit = \"Y\";\n    try {\n      res = await http().modifyRecords({\n        resid: applyProjectId,\n        data: [record]\n      });\n      if (res.data.Error == 0) {\n        message.success(\"提交成功\");\n      }\n    } catch (error) {\n      message.error(error.message);\n    }\n  };\n  //提交表单\n  onSubmit = async (values, type) => {\n    let res;\n    let obj = {};\n    let study = values.study && values.study.toString();\n    if (type === 1) {\n      obj = {\n        doctor: values.doctor,\n        hospital: values.hospital,\n        task: values.task,\n        phoneNumber: values.phone,\n        email: values.email,\n        taskPrincipal: values.taskPrincipal,\n        studyType: values.studyType,\n        inlandUnit: values.inlandUnit,\n        foreignUnit: values.foreignUnit,\n      };\n    } else {\n      obj = {\n        doctor: values.doctor,\n        hospital: values.hospital,\n        task: values.task,\n        phoneNumber: values.phone,\n        email: values.email,\n        taskPrincipal: values.taskPrincipal,\n        studyType: values.studyType,\n        inlandUnit: values.inlandUnit,\n        foreignUnit: values.foreignUnit,\n        isSubmit: \"Y\"\n      };\n    }\n    try {\n      res = await http().addRecords({\n        resid: applyProjectId,\n        data: [obj]\n      });\n      if (res.data.Error == 0) {\n        message.success(\"申请成功！\");\n      }\n      this.setState({\n        page: \"listPage\"\n      });\n      this.getApplyData();\n    } catch (error) {\n      message.error(error.message);\n    }\n  };\n  onApply = () => {\n    this.setState({\n      page: \"applyPage\"\n    });\n  };\n  onBack = () => {\n    this.setState({\n      page: \"listPage\"\n    });\n  };\n  onCheck = item => {\n      console.log(\"aaa\")\n    this.setState({\n      page: \"checkPage\",\n      record: item\n    });\n  };\n  showImage = () => {\n    this.setState({\n      page: \"showImagePage\",\n    });\n  };\n  render() {\n    const { getFieldDecorator } = this.props.form;\n    const { imageUrl, applyList, loading, page, record } = this.state;\n    const formItemLayout = {\n      labelCol: {\n        xs: { span: 24 },\n        sm: { span: 8 }\n      },\n      wrapperCol: {\n        xs: { span: 24 },\n        sm: { span: 16 }\n      }\n    };\n    const tailFormItemLayout = {\n      wrapperCol: {\n        xs: {\n          span: 24,\n          offset: 0\n        },\n        sm: {\n          span: 16,\n          offset: 8\n        }\n      }\n    };\n    const options = [\n      { label: \"单中心研究\", value: \"单中心研究\" },\n      { label: \"多中心研究\", value: \"多中心研究\" },\n      { label: \"第三方研究\", value: \"第三方研究\" },\n      { label: \"所有研究\", value: \"所有研究\" }\n    ];\n    const pages = {\n      showImagePage: <ShowImage image={applyProjectImage}></ShowImage>,\n      checkPage: (\n        <Form\n          {...formItemLayout}\n          // onSubmit={this.handleSubmit}\n          className=\"applyProject-form\"\n        >\n          <h1>CHASE-IBD专项课题申请表</h1>\n          <h3>基本信息</h3>\n          <Form.Item label={<span>课题名称&nbsp;</span>}>\n            <span>{record.doctor}</span>\n          </Form.Item>\n          <Form.Item label={<span>课题负责人&nbsp;</span>}>\n            <span>{record.hospital}</span>\n          </Form.Item>\n          <Form.Item label={<span>申请人&nbsp;</span>}>\n            <span>{record.post}</span>\n          </Form.Item>\n          <Form.Item label={<span>所属单位&nbsp;</span>}>\n            <span>{record.phoneNumber}</span>\n          </Form.Item>\n          <Form.Item label={<span>职称&nbsp;</span>}>\n            <span>{record.email}</span>\n          </Form.Item>\n          <Form.Item label={<span>联系电话&nbsp;</span>}>\n            <span>{record.email}</span>\n          </Form.Item>\n          <Form.Item label={<span>E-mail&nbsp;</span>}>\n            <span>{record.email}</span>\n          </Form.Item>\n          <Form.Item label={<span>拟定国内协作单位&nbsp;</span>}>\n            <span>{record.email}</span>\n          </Form.Item>\n          <Form.Item label={<span>拟定国际协作单位&nbsp;</span>}>\n            <span>{record.email}</span>\n          </Form.Item>\n          {/* <Form.Item label={<span>IBD治疗团队名单&nbsp;</span>}>\n            <span>{record.teamPeople}</span>&nbsp;&nbsp;\n            <span>{record.teamPeople2}</span>&nbsp;&nbsp;\n            <span>{record.teamPeople3}</span>&nbsp;&nbsp;\n          </Form.Item> */}\n          {/* <Form.Item label={<span>选择参与数据库研究&nbsp;</span>}>\n            <Checkbox.Group\n              options={options}\n              defaultValue={record.studyType}\n              onChange={this.onChangeCheckbox}\n            />\n          </Form.Item> */}\n          <h3>研究内容</h3>\n\n          <Form.Item label={<span>CD患者数量&nbsp;</span>}>\n            <span>{record.CDPatientNumber}</span>\n          </Form.Item>\n          <Form.Item label={<span>UC患者数量&nbsp;</span>}>\n            <span>{record.UCPatientNumber}</span>\n          </Form.Item>\n          <Form.Item label={<span>医师执照&nbsp;</span>}>\n            <img\n              src={record.doctorPhoto}\n              alt=\"avatar\"\n              style={{ backgroundSize: \"100%\" }}\n            />\n          </Form.Item>\n          <div className='applyProject-form-contain-notice'>\n            <span>来自数委会的批注</span>\n          <div>\n            <ul>\n              <li>XX教授：1f放松放松付所多付付付付付付</li>\n              <li>XX教授：2</li>\n              <li>XX教授：3</li>\n              <li>XX教授：444</li>\n            </ul>\n          </div></div>\n          <Button\n            icon=\"download\"\n            type=\"primary\"\n            className=\"applyProject-form-print\"\n          >\n            打印\n          </Button>\n        </Form>\n      ),\n      listPage: (\n        <List\n          className=\"applyProject-content-list\"\n          itemLayout=\"horizontal\"\n          dataSource={applyList}\n          renderItem={item => (\n            <List.Item\n              actions={[\n                <a\n                  key=\"list-loadmore-edit\"\n                  onClick={() => {\n                    this.onCheck(item);\n                  }}\n                >\n                  查看\n                </a>,\n                <Popconfirm\n                  title=\"你确定要提交吗\"\n                  onConfirm={() => {\n                    this.onSubmitRecord(item);\n                  }}\n                  okText=\"Yes\"\n                  cancelText=\"No\"\n                >\n                  <a key=\"list-loadmore-edit\">提交</a>\n                </Popconfirm>\n              ]}\n            >\n              {/* <Skeleton avatar title={false} loading={item.doctor} active> */}\n              <List.Item.Meta\n                // avatar={\n                //   <Avatar src=\"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png\" />\n                // }\n                title={\n                  <React.Fragment>\n                    <a className=\"applyProject-content-list-word\" href=\"#\">\n                      课题名称:{item.task}\n                    </a>\n                    <a className=\"applyProject-content-list-word\" href=\"#\">\n                      所属单位:{item.hospital}\n                    </a>\n                  </React.Fragment>\n                }\n                description={item.status}\n              />\n              <div className='applyProject-content-list-word'>申请日期：{item.doctor}</div>\n              <div>申请日期：{item.REC_CRTTIME}</div>\n              {/* </Skeleton> */}\n            </List.Item>\n          )}\n        />\n      ),\n      applyPage: (\n        <Form\n          {...formItemLayout}\n          // onSubmit={this.handleSubmit}\n          className=\"applyProject-form\"\n        >\n          <div className='applyProject-form-contain'>\n            <div className='applyProject-form-contain-info'>\n          <h1>CHASE-IBD专项课题申请表</h1>\n          <h3>基本信息</h3> \n          \n          <Form.Item label={<span>\b课题名称&nbsp;</span>}>\n            {getFieldDecorator(\"task\", {\n              rules: [\n                {\n                  required: true,\n                  message: \"请输入\b课题名称\",\n                  whitespace: true\n                }\n              ]\n            })(<Input />)}\n          </Form.Item>\n          <Form.Item label={<span>课题负责人&nbsp;</span>}>\n            {getFieldDecorator(\"taskPrincipal\", {\n              rules: [\n                {\n                  required: true,\n                  message: \"请输入\b课题负责人\",\n                  whitespace: true\n                }\n              ]\n            })(<Input />)}\n          </Form.Item>\n          <Form.Item label={<span>申请人&nbsp;</span>}>\n            {getFieldDecorator(\"doctor\", {\n              rules: [\n                {\n                  required: true,\n                  message: \"请输入申请人\",\n                  whitespace: true\n                }\n              ]\n            })(<Input />)}\n          </Form.Item>\n          <Form.Item label={<span>所属单位&nbsp;</span>}>\n            {getFieldDecorator(\"hospital\", {\n              rules: [\n                {\n                  required: true,\n                  message: \"请输入所属单位\",\n                  whitespace: true\n                }\n              ]\n            })(<Input />)}\n          </Form.Item>\n          <Form.Item label={<span>职称&nbsp;</span>}>\n            {getFieldDecorator(\"post\", {\n              rules: [\n                {\n                  required: true,\n                  message: \"请输入您的职称！\",\n                  whitespace: true\n                }\n              ]\n            })(<Input />)}\n          </Form.Item>\n          <Form.Item label={<span>联系电话&nbsp;</span>}>\n            {getFieldDecorator(\"phone\", {\n              rules: [\n                {\n                  required: true,\n                  message: \"请输入您的联系电话!\",\n                  whitespace: true\n                }\n              ]\n            })(<Input />)}\n          </Form.Item>\n          <Form.Item label={<span>E-mail&nbsp;</span>}>\n            {getFieldDecorator(\"email\", {\n              rules: [\n                {\n                  required: true,\n                  message: \"请输入您的邮箱!\",\n                  whitespace: true\n                }\n              ]\n            })(<Input />)}\n          </Form.Item>\n          <Form.Item label={<span>拟定国内协作单位&nbsp;</span>}>\n            {getFieldDecorator(\"inlandUnit\", {\n              rules: [\n                {\n                  required: true,\n                  message: \"请输入拟定国内协作单位!\",\n                  whitespace: true\n                }\n              ]\n            })(<Input />)}\n          </Form.Item>\n          <Form.Item label={<span>拟定国际协作单位&nbsp;</span>}>\n            {getFieldDecorator(\"forignUnit\", {\n              rules: [\n                {\n                  required: true,\n                  message: \"请输入拟定国际协作单位!\",\n                  whitespace: true\n                }\n              ]\n            })(<Input />)}\n          </Form.Item>\n          <h3>研究内容</h3>\n\n          </div>\n        \n          </div>\n          <Button\n            className=\"applyProject-form-save\"\n            htmlType=\"submit\"\n            onClick={() => {\n              this.handleSubmit(this, 1);\n            }}\n          >\n            保存\n          </Button>\n          <Button\n            type=\"primary\"\n            className=\"applyProject-form-submit\"\n            htmlType=\"submit\"\n            onClick={() => {\n              this.handleSubmit(this, 2);\n            }}\n          >\n            提交\n          </Button>\n          \n        </Form>\n      )\n    };\n\n    return <ApplyDataBase pages={pages} page={this.state.page} onBack={this.onBack} showImage={this.showImage} onApply={this.onApply}></ApplyDataBase>;\n  }\n}\n\nexport default Form.create()(ApplyProject);\n"]},"metadata":{},"sourceType":"module"}