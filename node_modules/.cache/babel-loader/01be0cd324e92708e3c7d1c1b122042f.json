{"ast":null,"code":"import _Spin from \"antd/es/spin\";\nimport _Empty from \"antd/es/empty\";\nimport _Icon from \"antd/es/icon\";\nimport _Alert from \"antd/es/alert\";\nimport _toArray from \"/Users/mac/Desktop/ibd-apply/node_modules/@babel/runtime/helpers/esm/toArray\";\nimport _Collapse from \"antd/es/collapse\";\nvar _jsxFileName = \"/Users/mac/Desktop/ibd-apply/src/components/busniess/NoticeList/NoticeList.js\";\nimport React, { Component } from \"react\";\nimport \"./NoticeList.less\";\nimport http from \"../../../utils/api\";\nconst Panel = _Collapse.Panel;\nconst noticeId = \"620317621824\";\n\nclass NoticeList extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      collapsed: false,\n      imageUrl: \"\",\n      userInfo: {},\n      currentNotice: [],\n      historyNotice: []\n    };\n\n    this.componentDidMount = async () => {\n      let res;\n\n      try {\n        res = await http().getTable({\n          resid: noticeId\n        });\n\n        const _res$data$data = _toArray(res.data.data),\n              current = _res$data$data[0],\n              history = _res$data$data.slice(1);\n\n        this.setState({\n          currentNotice: current,\n          historyNotice: history\n        });\n      } catch (error) {}\n    };\n  }\n\n  render() {\n    const customPanelStyle = {\n      background: \"#f7f7f7\",\n      borderRadius: 4,\n      marginBottom: 24,\n      border: 0,\n      overflow: \"hidden\"\n    };\n    const _this$state = this.state,\n          currentNotice = _this$state.currentNotice,\n          historyNotice = _this$state.historyNotice;\n    return React.createElement(\"div\", {\n      className: \"noticeList\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      },\n      __self: this\n    }, React.createElement(_Spin, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }, \"\\u6700\\u65B0\\u901A\\u77E5\"), React.createElement(_Alert, {\n      message: currentNotice.title,\n      description: currentNotice.content,\n      type: \"info\",\n      showIcon: true,\n      closeText: \"Close\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"noticeList-line\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, \" \"), React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, \"\\u5386\\u53F2\\u901A\\u77E5\"), historyNotice.length > 0 ? React.createElement(_Collapse, {\n      bordered: false,\n      defaultActiveKey: [\"1\"],\n      expandIcon: ({\n        isActive\n      }) => React.createElement(_Icon, {\n        type: \"caret-right\",\n        rotate: isActive ? 90 : 0,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, historyNotice.map(item => {\n      return React.createElement(Panel, {\n        header: item.title,\n        key: \"1\",\n        style: customPanelStyle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, item.content));\n    })) : React.createElement(_Empty, {\n      image: _Empty.PRESENTED_IMAGE_SIMPLE,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default NoticeList;","map":{"version":3,"sources":["/Users/mac/Desktop/ibd-apply/src/components/busniess/NoticeList/NoticeList.js"],"names":["React","Component","http","Panel","noticeId","NoticeList","state","collapsed","imageUrl","userInfo","currentNotice","historyNotice","componentDidMount","res","getTable","resid","data","current","history","setState","error","render","customPanelStyle","background","borderRadius","marginBottom","border","overflow","title","content","length","isActive","map","item","PRESENTED_IMAGE_SIMPLE"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"./NoticeList.less\";\nimport { Collapse, Icon, Alert, Empty, Button, Spin } from \"antd\";\nimport http from \"../../../utils/api\";\nconst { Panel } = Collapse;\nconst noticeId = \"620317621824\";\n\nclass NoticeList extends Component {\n  state = {\n    collapsed: false,\n    imageUrl: \"\",\n    userInfo: {},\n    currentNotice: [],\n    historyNotice: []\n  };\n  componentDidMount = async () => {\n    let res;\n    try {\n      res = await http().getTable({\n        resid: noticeId\n      });\n      const [current, ...history] = res.data.data;\n      this.setState({\n        currentNotice: current,\n        historyNotice: history\n      });\n    } catch (error) {}\n  };\n  render() {\n    const customPanelStyle = {\n      background: \"#f7f7f7\",\n      borderRadius: 4,\n      marginBottom: 24,\n      border: 0,\n      overflow: \"hidden\"\n    };\n    const { currentNotice, historyNotice } = this.state;\n    return (\n      <div className=\"noticeList\">\n        <Spin >\n        <h2>最新通知</h2>\n        <Alert\n          message={currentNotice.title}\n          description={currentNotice.content}\n          type=\"info\"\n          showIcon\n          closeText=\"Close\"\n        />\n        <div className=\"noticeList-line\"> </div>\n        <h3>历史通知</h3>\n        {historyNotice.length > 0 ? (\n          <Collapse\n            bordered={false}\n            defaultActiveKey={[\"1\"]}\n            expandIcon={({ isActive }) => (\n              <Icon type=\"caret-right\" rotate={isActive ? 90 : 0} />\n            )}\n          >\n            {historyNotice.map(item => {\n              return (\n                <Panel header={item.title} key=\"1\" style={customPanelStyle}>\n                  <p>{item.content}</p>\n                </Panel>\n              );\n            })}\n          </Collapse>\n        ) : (\n          <Empty image={Empty.PRESENTED_IMAGE_SIMPLE} />\n        )}\n        </Spin>\n      </div>\n    );\n  }\n}\n\nexport default NoticeList;\n"]},"metadata":{},"sourceType":"module"}