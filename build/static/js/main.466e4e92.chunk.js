(window["webpackJsonpibd-apply"]=window["webpackJsonpibd-apply"]||[]).push([[0],{226:function(e,t,a){e.exports=a.p+"static/media/logo.409d3d40.png"},227:function(e,t,a){e.exports=a.p+"static/media/applyProject1.96855abe.jpg"},228:function(e,t,a){e.exports=a.p+"static/media/applyProject2.fad3ab87.jpg"},230:function(e,t,a){e.exports=a.p+"static/media/applyDataBase.04e0b2a6.jpg"},241:function(e,t,a){e.exports=a(516)},246:function(e,t,a){},247:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},248:function(e,t,a){},250:function(e,t,a){},402:function(e,t,a){},403:function(e,t,a){},404:function(e,t,a){},405:function(e,t,a){},406:function(e,t,a){},431:function(e,t,a){},480:function(e,t,a){},481:function(e,t,a){},508:function(e,t,a){},509:function(e,t,a){},510:function(e,t,a){},511:function(e,t,a){},512:function(e,t,a){},513:function(e,t,a){},515:function(e,t,a){},516:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(11),c=a.n(l),s=(a(246),a(247),a(248),a(167)),i=a(74),o=a(26),u=a(15),m=a(3),p=a(18),d=a(6),E=a(5),f=a.n(E),h=a(13),g=a(16),b=a(23),y=a(24),v=a(27),k=a(25),x=a(28),I=(a(250),a(61)),w=a.n(I);w.a.setDefaultBaseURL("http://ivf.realsun.me:9001"),w.a.setDefaultHeaders({"Content-Type":"application/json"}),w.a.createApi("getReminderNum",{method:"get",url:"/api/Resource/RetrieveReminderNum"}),w.a.setDefaultOptions({withCredentials:!0}),w.a.createApi("getVerCode",{method:"get",url:"api/SMS/SMS_SendValidCode"}),w.a.createApi("register",{method:"get",url:"api/Account/Register"}),w.a.createApi("login",{method:"post",url:"/api/Account/Login"}),w.a.createApi("getTableNew",{method:"get",url:"/api/200/table/Retrieve"}),w.a.createApi("putOneImageObject",{method:"post",url:"/api/AliyunOss/PutFileImageObject"});var S=w.a,P="622204211916",O=function(e){function t(){var e,a;Object(b.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(v.a)(this,(e=Object(k.a)(t)).call.apply(e,[this].concat(r)))).state={disabled:!1,counts:60,showSpin:!1},a.componentDidMount=function(){},a.login=function(){var e=Object(g.a)(f.a.mark(function e(t){var n,r,l;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=a.props.form,r={mobileno:n.getFieldValue("phone"),validCode:n.getFieldValue("valid"),loginMethod:"mobile",useCookie:!0},t.preventDefault(),a.props.form.validateFieldsAndScroll(function(){var e=Object(g.a)(f.a.mark(function e(t,n){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=2;break}return e.abrupt("return");case 2:return a.setState({showSpin:!0}),e.prev=3,e.next=6,S().login(r);case 6:if("Y"!=(l=e.sent).data.OpResult){e.next=18;break}if(h.a.success("\u767b\u5f55\u6210\u529f"),localStorage.setItem("userInfo",JSON.stringify(l.data)),e.t0=a.props.history.location.state,!e.t0){e.next=14;break}return e.next=14,a.saveDoctorData();case 14:a.setState({showSpin:!1}),a.props.history.push({pathname:"/home"}),e.next=19;break;case 18:h.a.error(l.data.ErrorMsg);case 19:e.next=24;break;case 21:e.prev=21,e.t1=e.catch(3),h.a.error(e.t1.message);case 24:case"end":return e.stop()}},e,null,[[3,21]])}));return function(t,a){return e.apply(this,arguments)}}());case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.saveDoctorData=Object(g.a)(f.a.mark(function e(){var t;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.history.location.state.doctorData,e.prev=1,e.next=4,S().addRecords({resid:P,data:[t]});case 4:e.sent.data.Error,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),h.a.error(e.t0.message);case 11:case"end":return e.stop()}},e,null,[[1,8]])})),a.countDown=function(){var e=60;a.setState({disabled:!0});var t=setInterval(function(){e>0?(e--,a.setState({counts:e})):(a.setState({disabled:!1}),clearInterval(t))},1e3)},a.getVerCode=Object(g.a)(f.a.mark(function e(){var t;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=a.props.form).getFieldValue("phone")){e.next=13;break}return a.countDown(),e.prev=3,e.next=6,S().getVerCode({telephone:t.getFieldValue("phone")});case 6:e.sent,e.next=11;break;case 9:e.prev=9,e.t0=e.catch(3);case 11:e.next=14;break;case 13:h.a.info("\u8bf7\u5148\u8f93\u5165\u624b\u673a\u53f7\u83b7\u53d6\u9a8c\u8bc1\u7801");case 14:case"end":return e.stop()}},e,null,[[3,9]])})),a.onRegister=function(){a.props.history.push({pathname:"/register"})},a}return Object(x.a)(t,e),Object(y.a)(t,[{key:"componentWillUnmount",value:function(){this.setState=function(e,t){}}},{key:"render",value:function(){var e=this.state,t=e.disabled,a=e.counts,n=e.showSpin,l=this.props.form.getFieldDecorator;return r.a.createElement("div",{className:"page"},r.a.createElement("div",{className:"login-contain"},r.a.createElement(o.a,{spinning:n},r.a.createElement(m.a,{onSubmit:this.handleSubmit,className:"login-form-userName"},r.a.createElement("h1",null,"\u767b\u5f55"),r.a.createElement(m.a.Item,null,l("phone",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u4f60\u7684\u624b\u673a\u53f7!"}]})(r.a.createElement(p.a,{size:"large",prefix:r.a.createElement(d.a,{type:"phone",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"\u624b\u673a\u53f7"}))),r.a.createElement(m.a.Item,{className:"login-form-valid"},l("valid",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u4f60\u7684\u9a8c\u8bc1\u7801!"}]})(r.a.createElement(p.a,{size:"large",className:"login-form-valid-input",prefix:r.a.createElement(d.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"\u9a8c\u8bc1\u7801 "}))),t?r.a.createElement(u.a,{className:"login-form-valid-countdown",size:"large",type:"primary",disabled:!0},a):r.a.createElement(u.a,{className:"login-form-valid-button",size:"large",type:"primary",onClick:this.getVerCode},"\u83b7\u53d6\u9a8c\u8bc1\u7801"),r.a.createElement(u.a,{type:"primary",htmlType:"submit",className:"login-form-button",onClick:this.login,size:"large"},"\u767b\u5f55"),r.a.createElement("div",{className:"login-form-register"},r.a.createElement("a",{onClick:this.onRegister},"\u6ce8\u518c"))))))}}]),t}(n.Component),j=m.a.create()(O),N=a(236),C=a(85),D=a(40),A=a(57),T=(a(402),a(226)),R=a.n(T),U=a(60),L=a(104),V=a(237),F=a(172),M=(a(403),F.a.Panel),B="620317621824",q=function(e){function t(){var e,a;Object(b.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(v.a)(this,(e=Object(k.a)(t)).call.apply(e,[this].concat(r)))).state={collapsed:!1,imageUrl:"",userInfo:{},currentNotice:{},historyNotice:[],showSpin:!1},a.componentDidMount=Object(g.a)(f.a.mark(function e(){var t,n,r,l;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S().getTable({resid:B});case 3:t=e.sent,n=Object(V.a)(t.data.data),r=n[0],l=n.slice(1),a.setState({currentNotice:r,historyNotice:l}),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}},e,null,[[0,8]])})),a}return Object(x.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e={background:"#f7f7f7",borderRadius:4,marginBottom:24,border:0,overflow:"hidden"},t=this.state,a=t.currentNotice,n=t.historyNotice,l=t.showSpin;return r.a.createElement("div",{className:"noticeList"},r.a.createElement(o.a,{spinning:l},r.a.createElement("h2",null,"\u6700\u65b0\u901a\u77e5"),a?"Y"!==a.isSynch?r.a.createElement(L.a,{message:a&&a.title,description:r.a.createElement("div",null,r.a.createElement("span",null,a&&a.content),r.a.createElement("span",{className:"noticeList-time"},a&&a.publishTime)),type:"info",showIcon:!0}):r.a.createElement(L.a,{message:"\u60a8\u53d1\u8d77\u7684\u9879\u76ee\uff08".concat(a&&a.title,"\uff09 \u6709\u4eba\u7533\u8bf7\u52a0\u5165"),description:r.a.createElement("div",null,r.a.createElement("span",null," ","\u52a0\u5165\u4eba\uff1a".concat(a&&a.content)),r.a.createElement("span",{className:"noticeList-time"},a&&a.publishTime)),type:"info",showIcon:!0}):r.a.createElement(U.a,{image:U.a.PRESENTED_IMAGE_SIMPLE}),r.a.createElement("div",{className:"noticeList-line"}," "),r.a.createElement("h3",null,"\u5386\u53f2\u901a\u77e5"),n.length>0?r.a.createElement(F.a,{bordered:!1,className:"noticeList-Collapse",defaultActiveKey:["0"],expandIcon:function(e){var t=e.isActive;return r.a.createElement(d.a,{type:"caret-right",rotate:t?90:0})}},n.map(function(t,a){return r.a.createElement(M,{header:r.a.createElement("div",null,r.a.createElement("span",null,"Y"!==t.isSynch?t.title:"\u60a8\u53d1\u8d77\u7684\u9879\u76ee\uff08".concat(t.title,"\uff09 \u6709\u4eba\u7533\u8bf7\u52a0\u5165")),r.a.createElement("span",{className:"noticeList-time"},t.publishTime)),key:a,style:e},r.a.createElement("p",null,"Y"!==t.isSynch?t.content:"\u52a0\u5165\u4eba\uff1a".concat(t.content)))})):r.a.createElement(U.a,{image:U.a.PRESENTED_IMAGE_SIMPLE})))}}]),t}(n.Component),H=(a(404),function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(v.a)(this,Object(k.a)(t).call(this,e))).state={imageUrl:"",applyList:[],page:"listPage",record:{},loading:!1},a.componentDidMount=Object(g.a)(f.a.mark(function e(){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)})),a}return Object(x.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this.props,t=this.state.loading;return r.a.createElement("div",{className:"applyDataBase"},r.a.createElement("div",{className:"applyDataBase-btns"},r.a.createElement(u.a,{icon:"applyPage"===e.page||"checkPage"===e.page||"schedulePage"===e.page?"rollback":"plus",type:"primary",onClick:"applyPage"===e.page||"checkPage"===e.page||"schedulePage"===e.page?this.props.onBack:this.props.onApply,className:"applyDataBase-btn"},"applyPage"===e.page||"checkPage"===e.page||"schedulePage"===e.page?"\u8fd4\u56de":e.addText||"\u7533\u8bf7"),r.a.createElement("a",{className:"applyDataBase-photoBtn",type:"link",onClick:"showImagePage"===e.page?this.props.onBack:this.props.showImage},e.isShowImage?"":"showImagePage"===e.page?"\u8fd4\u56de":"listPage"===e.page?"\u7533\u8bf7\u6d41\u7a0b\u56fe":"")),r.a.createElement(o.a,{spinning:t},r.a.createElement("div",{className:"applyDataBase-content"},function(){switch(e.page){case"listPage":return e.pages.listPage;case"applyPage":return e.pages.applyPage;case"checkPage":return e.pages.checkPage;case"showImagePage":return e.pages.showImagePage;case"schedulePage":return e.pages.schedulePage}}())))}}]),t}(n.Component)),_=m.a.create()(H),J=a(75),Y=a(48),z=a(94),W=a(86),G=a(103),K=(a(405),a(199),a(406),function(e){return r.a.createElement("div",{className:"showImage"},r.a.createElement("img",{src:e.image,style:{border:"1px solid #ccc",height:"600px"}}))}),X=a(238),$=G.a.Meta,Q=function(e){return r.a.createElement("div",null,r.a.createElement(G.a,{style:{width:300,marginTop:16}},r.a.createElement(X.a,{loading:!e.data,avatar:!0,active:!0},r.a.createElement($,{avatar:r.a.createElement(d.a,{type:"user"}),title:r.a.createElement("div",null,"\u6279\u6ce8\u4eba\uff1a",e.data.name),description:e.data.suggest?r.a.createElement("div",null,r.a.createElement("div",null,"\u65f6\u95f4\uff1a",e.data.writeTime),r.a.createElement("div",null,"\u5efa\u8bae\uff1a",e.data.suggest)):r.a.createElement("div",null,"\u6682\u65e0\u5efa\u8bae")}))))},Z=a(227),ee=a.n(Z),te=a(228),ae=a.n(te),ne=a(39),re=a.n(ne),le="620475440053",ce="621432069832",se="622302753373",ie=(G.a.Meta,W.a.Step),oe=function(e,t){t.status,t.index;return e},ue=function(e){function t(){var e,a;Object(b.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(v.a)(this,(e=Object(k.a)(t)).call.apply(e,[this].concat(l)))).state={imageUrl:"",applyList:[],page:"listPage",record:{},postilData:[],loading:!1,isEdit:!1,doctorInfo:null,visible:!0},a.componentDidMount=Object(g.a)(f.a.mark(function e(){var t;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.getApplyData();case 2:t=JSON.parse(localStorage.getItem("doctorInfo")),a.setState({doctorInfo:t});case 4:case"end":return e.stop()}},e)})),a.componentWillReceiveProps=function(e){e.isUpdate!==a.props.isUpdate&&a.getApplyData()},a.getApplyData=Object(g.a)(f.a.mark(function e(){var t,n;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({loading:!0}),e.prev=1,e.next=4,S().getTableNew({resid:le,subresid:"".concat(ce,",").concat(se)});case 4:0==(t=e.sent).data.Error&&(n=[],t.data&&t.data.data&&t.data.data.map(function(e){var t=e.studyType&&e.studyType.split(",");e.studyType=t,n.push(e)}),a.setState({applyList:n})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),h.a.error(e.t0.message);case 11:a.setState({loading:!1});case 12:case"end":return e.stop()}},e,null,[[1,8]])})),a.handleSubmit=function(e,t){a.props.form.validateFieldsAndScroll(function(e,n){e||a.onSubmit(n,t)})},a.onSubmitRecord=function(){var e=Object(g.a)(f.a.mark(function e(t){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.isSubmit="Y",e.prev=1,e.next=4,S().modifyRecords({resid:le,data:[t]});case 4:if(0!=e.sent.data.Error){e.next=9;break}return h.a.success("\u63d0\u4ea4\u6210\u529f"),e.next=9,a.getApplyData();case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),h.a.error(e.t0.message);case 14:case"end":return e.stop()}},e,null,[[1,11]])}));return function(t){return e.apply(this,arguments)}}(),a.onSubmit=function(){var e=Object(g.a)(f.a.mark(function e(t,n){var r,l,c,s,i;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r={},t.study&&t.study.toString(),l=a.state,c=l.isEdit,s=l.record,i=l.doctorInfo,r=1===n?{doctor:t.doctor,hospital:t.hospital,task:t.task,doctorId:i.doctorId,post:t.post,taskPrincipal:t.taskPrincipal,studyType:t.studyType,inlandUnit:t.inlandUnit,foreignUnit:t.foreignUnit,studyReason:t.studyReason,studyArea:t.studyArea,studyTarget:t.studyTarget,studyDescription:t.studyDescription,studyLast:t.studyLast,studySelected:t.studySelected,studyAssess:t.studyAssess,studyCheck:t.studyCheck,staticMethod:t.staticMethod,standard:t.standard,sure:t.sure,committee:t.committee,referenceData:t.referenceData}:{doctor:t.doctor,hospital:t.hospital,task:t.task,doctorId:i.doctorId,phoneNumber:t.phone,post:t.post,email:t.email,taskPrincipal:t.taskPrincipal,studyType:t.studyType,inlandUnit:t.inlandUnit,foreignUnit:t.foreignUnit,studyReason:t.studyReason,studyArea:t.studyArea,studyTarget:t.studyTarget,studyDescription:t.studyDescription,studyLast:t.studyLast,studySelected:t.studySelected,studyAssess:t.studyAssess,studyCheck:t.studyCheck,staticMethod:t.staticMethod,standard:t.standard,sure:t.sure,committee:t.committee,referenceData:t.referenceData,isSubmit:"Y"},!0!==c){e.next=21;break}return r.REC_ID=s.REC_ID,e.prev=6,e.next=9,S().modifyRecords({resid:le,data:[r]});case 9:return 0==e.sent.data.Error&&h.a.success("\u7533\u8bf7\u6210\u529f\uff01"),a.setState({page:"listPage",isEdit:!1}),e.next=14,a.getApplyData();case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(6),h.a.error(e.t0.message);case 19:e.next=34;break;case 21:return e.prev=21,e.next=24,S().addRecords({resid:le,data:[r]});case 24:return 0==e.sent.data.Error&&h.a.success("\u7533\u8bf7\u6210\u529f\uff01"),a.setState({page:"listPage",isEdit:!1}),e.next=29,a.getApplyData();case 29:e.next=34;break;case 31:e.prev=31,e.t1=e.catch(21),h.a.error(e.t1.message);case 34:case"end":return e.stop()}},e,null,[[6,16],[21,31]])}));return function(t,a){return e.apply(this,arguments)}}(),a.onApply=function(){a.setState({page:"applyPage"})},a.onLookSchedule=function(e){D.a.success({title:"\u8fdb\u5ea6\u67e5\u8be2",width:650,content:r.a.createElement("div",{style:{marginTop:"20px"}},r.a.createElement("div",{style:{marginBottom:"20px"}},"\u8bfe\u9898\u540d\u79f0\uff1a",e.task),r.a.createElement(W.a,{current:"\u5df2\u5b8c\u6210"===e.status?3:"\u8fdb\u884c\u4e2d"===e.status?2:"\u8349\u7a3f"===e.status?0:1,progressDot:oe},r.a.createElement(ie,{title:"\u63d0\u4ea4\u62a5\u544a"}),r.a.createElement(ie,{title:"\u5ba1\u6838\u4e2d"}),r.a.createElement(ie,{title:"\u8fdb\u884c\u4e2d"}),r.a.createElement(ie,{title:"\u5df2\u5b8c\u6210"})),",")})},a.onBack=function(){a.setState({page:"listPage"})},a.onCheck=function(e){a.setState({page:"checkPage",record:e})},a.onEdit=function(e){a.setState({page:"applyPage",record:e,isEdit:!0})},a.showImage=function(){a.setState({page:"showImagePage"})},a.print=function(){a.setState({visible:!1});var e=document.getElementById("applyProjectForm").innerHTML,t=document.body.innerHTML;return document.body.innerHTML=e,window.print(),window.location.reload(),document.body.innerHTML=t,!1},a}return Object(x.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,a=this.state,n=(a.imageUrl,a.applyList),l=a.loading,c=(a.page,a.record),s=(a.postilData,a.isEdit),i=a.visible,d={labelCol:{},wrapperCol:{}},E={showImagePage:r.a.createElement(r.a.Fragment,null,r.a.createElement(K,{image:ee.a}),r.a.createElement(K,{image:ae.a})),checkPage:r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,Object.assign({},d,{className:"applyProject-form",id:"applyProjectForm"}),r.a.createElement("div",{className:"applyProject-form-contain"},r.a.createElement("div",{className:"applyProject-form-contain-info"},r.a.createElement("h1",{style:{textAlign:"center"}},"CHASE-IBD\u4e13\u9879\u8bfe\u9898\u7533\u8bf7\u8868"),r.a.createElement("h3",{style:{textAlign:"center"}},"\u57fa\u672c\u4fe1\u606f"),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"\u8bfe\u9898\u540d\u79f0\xa0")},r.a.createElement("span",null,c.task)),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"\u8bfe\u9898\u8d1f\u8d23\u4eba\xa0")},r.a.createElement("span",null,c.taskPrincipal)),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"\u7533\u8bf7\u4eba\xa0")},r.a.createElement("span",null,c.doctor)),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"\u6240\u5c5e\u5355\u4f4d\xa0")},r.a.createElement("span",null,c.hospital)),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"\u804c\u79f0\xa0")},r.a.createElement("span",null,c.post)),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"\u8054\u7cfb\u7535\u8bdd\xa0")},r.a.createElement("span",null,c.phoneNumber)),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"E-mail\xa0")},r.a.createElement("span",null,c.email)),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"\u62df\u5b9a\u56fd\u5185\u534f\u4f5c\u5355\u4f4d\xa0")},r.a.createElement("span",null,c.inlandUnit)),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"\u62df\u5b9a\u56fd\u9645\u534f\u4f5c\u5355\u4f4d\xa0")},r.a.createElement("span",null,c.foreignUnit)),r.a.createElement("h3",{style:{textAlign:"center"}},"\u7814\u7a76\u5185\u5bb9"),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"\u7814\u7a76\u7684\u7406\u7531\xa0")},r.a.createElement("span",null,c.studyReason)),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"\u7814\u7a76\u533a\u57df\xa0")},r.a.createElement("span",null,c.studyArea)),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"\u7814\u7a76\u76ee\u6807\uff08\u4e3b\u8981\u76ee\u6807\uff0c\u6b21\u8981\u76ee\u6807\uff0c\u9644\u52a0\u76ee\u6807\uff09\xa0")},r.a.createElement("span",null,c.studyTarget)),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"\u7814\u7a76\u7ec8\u70b9\uff08\u4e3b\u8981\u7ec8\u70b9\uff0c\u6b21\u8981\u7ec8\u70b9\uff0c\u9644\u52a0\u7ec8\u70b9\uff09\xa0")},r.a.createElement("span",null,c.studyLast)),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"\u7814\u7a76\u8bbe\u8ba1\u4e0e\u63cf\u8ff0\uff08\u7814\u7a76\u63cf\u8ff0\uff0c\u7814\u7a76\u5468\u671f\uff0c\u7814\u7a76\u8bbe\u8ba1\uff0c\u5242\u91cf\u548c\u7ec8\u70b9\u7684\u5408\u7406\u6027\uff09\xa0")},r.a.createElement("span",null,c.studyDescription)),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"\u9879\u76ee\u5165\u9009\uff08\u5165\u9009\u6807\u51c6\uff0c\u6392\u9664\u6807\u51c6\u5305\u62ec\u836f\u7269\uff0c\u6cbb\u7597\u548c\u996e\u98df\uff09\xa0")},r.a.createElement("span",null,c.studySelected)),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"\u7814\u7a76\u7ec8\u70b9\uff08\u4e3b\u8981\u7ec8\u70b9\uff0c\u6b21\u8981\u7ec8\u70b9\uff0c\u9644\u52a0\u7ec8\u70b9\uff09\xa0")},r.a.createElement("span",null,c.studyLast)),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"\u8bc4\u4f30\uff08\u7597\u6548\u8bc4\u4f30\uff0c\u5b89\u5168\u8bc4\u4f30\uff0c\u5176\u4ed6\u8bc4\u4f30\uff09\xa0")},r.a.createElement("span",null,c.studyAssess)),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"\u5b9e\u9a8c\u5ba4\u68c0\u67e5\uff1a\u68c0\u67e5\u5177\u4f53\u6307\u6807\u53c2\u6570\xa0")},r.a.createElement("span",null,c.studyCheck)),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"\u8bc4\u4f30\uff08\u7597\u6548\u8bc4\u4f30\uff0c\u5b89\u5168\u8bc4\u4f30\uff0c\u5176\u4ed6\u8bc4\u4f30\uff09\xa0")},r.a.createElement("span",null,c.studyAssess)),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"\u7edf\u8ba1\u65b9\u6cd5\uff08\u7edf\u8ba1\u5206\u6790\u8ba1\u5212\uff0c\u4eba\u53e3\u7edf\u8ba1\u5b66\u548c\u5176\u4ed6\u57fa\u7ebf\u7279\u5f81\u5206\u6790\uff0c\u7597\u6548\u5206\u6790\uff0c\u836f\u4ee3\u52a8\u529b\u5b66\u5206\u6790\uff0c\u836f\u6548\u5b66\u5206\u6790\uff0c\u5b89\u5168\u5206\u6790\uff09\xa0")},r.a.createElement("span",null,c.staticMethod)),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"\u4e2d\u671f\u5206\u6790\u548c\u63d0\u524d\u7ec8\u6b62\u7684\u6807\u51c6\xa0")},r.a.createElement("span",null,c.standard)),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"\u6837\u672c\u91cf\u7684\u786e\u5b9a\xa0")},r.a.createElement("span",null,c.sure)),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"\u4f26\u7406\u59d4\u5458\u4f1a\xa0")},r.a.createElement("span",null,c.committee)),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"\u53c2\u8003\u8d44\u6599\xa0")},r.a.createElement("span",null,c.referenceData))),i&&c[621432069832]?r.a.createElement("div",{className:"applyProject-form-contain-notice"},r.a.createElement("span",null,"\u7533\u8bf7\u52a0\u5165\u4eba"),c[622302753373]&&c[622302753373].length>0?c[622302753373].map(function(e){return r.a.createElement("div",{className:"applyProject-form-contain-notice-alerts"},r.a.createElement(L.a,{message:r.a.createElement("div",null,r.a.createElement("b",null,e.joinPerson,"\u7533\u8bf7\u52a0\u5165"),r.a.createElement("b",{style:{position:"absolute",right:"8px"}},e.applyTime)),type:"info",className:"applyProject-form-contain-notice-alert"}))}):r.a.createElement("div",{className:"applyProject-form-contain-notice-alerts",style:{textAlign:"center"}},"\u6682\u65e0\u4eba\u52a0\u5165"),r.a.createElement("span",null,"\u6765\u81ea\u6570\u59d4\u4f1a\u7684\u6279\u6ce8"),c[621432069832]&&c[621432069832].map(function(e){return r.a.createElement(Q,{key:e.REC_ID,data:e})})):null)),r.a.createElement(u.a,{icon:"download",type:"primary",className:"applyProject-form-print",onClick:this.print},"\u6253\u5370")),listPage:r.a.createElement(r.a.Fragment,null,r.a.createElement(J.a,{className:"applyProject-content-list",itemLayout:"horizontal",dataSource:n,renderItem:function(t){return r.a.createElement(J.a.Item,{actions:[r.a.createElement("a",{key:"list-loadmore-edit",onClick:function(){e.onCheck(t)}},"\u67e5\u770b"),"Y"===t.isSubmit?r.a.createElement("a",{key:"list-loadmore-edit",onClick:function(){e.onLookSchedule(t)}},"\u8fdb\u5ea6\u67e5\u8be2"):r.a.createElement(z.a,{title:"\u4f60\u786e\u5b9a\u8981\u63d0\u4ea4\u5417",onConfirm:function(){e.onSubmitRecord(t)},okText:"Yes",cancelText:"No"},r.a.createElement("a",{key:"list-loadmore-edit"},"\u63d0\u4ea4")),t.joinPersonID?null:r.a.createElement("a",{key:"list-loadmore-edit",onClick:function(){e.onEdit(t)}},"\u7f16\u8f91")]},r.a.createElement(J.a.Item.Meta,{title:r.a.createElement(r.a.Fragment,null,r.a.createElement("a",{className:"applyProject-content-list-word",href:"#"},"\u8bfe\u9898\u540d\u79f0:",t.task),r.a.createElement("a",{className:"applyProject-content-list-word",href:"#"},"\u6240\u5c5e\u5355\u4f4d:",t.hospital)),description:r.a.createElement(r.a.Fragment,null,r.a.createElement(Y.a,{color:"\u901a\u8fc7"===t.status?"geekblue":"\u62d2\u7edd"===t.status?"red":"green"},t.status)," ")}),r.a.createElement("div",null,"\u7533\u8bf7\u65e5\u671f\uff1a",t.REC_CRTTIME))}})),schedulePage:r.a.createElement("div",null,r.a.createElement("h1",{style:{textAlign:"center"}},c.task),r.a.createElement(W.a,{current:"\u901a\u8fc7"===c.status||"\u62d2\u7edd"===c.status?2:1,progressDot:oe},r.a.createElement(ie,{title:"\u63d0\u4ea4\u62a5\u544a"}),r.a.createElement(ie,{title:"\u5ba1\u6838"}),r.a.createElement(ie,{title:"\u5b8c\u6210"})),","),applyPage:r.a.createElement(m.a,Object.assign({},d,{className:"applyProject-form"}),r.a.createElement("div",{className:"applyProject-form-contain"},r.a.createElement("div",{className:"applyProject-form-contain-info"},r.a.createElement("h1",{style:{textAlign:"center"}},"CHASE-IBD\u4e13\u9879\u8bfe\u9898\u7533\u8bf7\u8868"),r.a.createElement("h3",{style:{textAlign:"center"}},"\u57fa\u672c\u4fe1\u606f"),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"\b\u8bfe\u9898\u540d\u79f0\xa0")},t("task",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\b\u8bfe\u9898\u540d\u79f0",whitespace:!0}],initialValue:s?c.task:null})(r.a.createElement(p.a,null))),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"\u8bfe\u9898\u8d1f\u8d23\u4eba\xa0")},t("taskPrincipal",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\b\u8bfe\u9898\u8d1f\u8d23\u4eba",whitespace:!0}],initialValue:s?c.taskPrincipal:null})(r.a.createElement(p.a,null))),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"\u804c\u79f0\xa0")},t("post",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u60a8\u7684\u804c\u79f0\uff01",whitespace:!0}],initialValue:s?c.post:null})(r.a.createElement(p.a,null))),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"\u62df\u5b9a\u56fd\u5185\u534f\u4f5c\u5355\u4f4d\xa0")},t("inlandUnit",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u62df\u5b9a\u56fd\u5185\u534f\u4f5c\u5355\u4f4d!",whitespace:!0}],initialValue:s?c.inlandUnit:null})(r.a.createElement(p.a,null))),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"\u62df\u5b9a\u56fd\u9645\u534f\u4f5c\u5355\u4f4d\xa0")},t("foreignUnit",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u62df\u5b9a\u56fd\u9645\u534f\u4f5c\u5355\u4f4d!",whitespace:!0}],initialValue:s?c.foreignUnit:null})(r.a.createElement(p.a,null))),r.a.createElement("h3",{style:{textAlign:"center"}},"\u7814\u7a76\u5185\u5bb9"),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"\u7814\u7a76\u7684\u7406\u7531\xa0")},t("studyReason",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7814\u7a76\u7684\u7406\u7531!",whitespace:!0}],initialValue:s?c.studyReason:null})(r.a.createElement(re.a,{className:"applyProject-form-textarea"}))),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"\u7814\u7a76\u533a\u57df\xa0")},t("studyArea",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7814\u7a76\u533a\u57df!",whitespace:!0}],initialValue:s?c.studyArea:null})(r.a.createElement(re.a,{className:"applyProject-form-textarea"}))),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"\u7814\u7a76\u76ee\u6807\uff08\u4e3b\u8981\u76ee\u6807\uff0c\u6b21\u8981\u76ee\u6807\uff0c\u9644\u52a0\u76ee\u6807\uff09\xa0")},t("studyTarget",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7814\u7a76\u76ee\u6807!",whitespace:!0}],initialValue:s?c.studyTarget:null})(r.a.createElement(re.a,{className:"applyProject-form-textarea"}))),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"\u7814\u7a76\u7ec8\u70b9\uff08\u4e3b\u8981\u7ec8\u70b9\uff0c\u6b21\u8981\u7ec8\u70b9\uff0c\u9644\u52a0\u7ec8\u70b9\uff09\xa0")},t("studyLast",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7814\u7a76\u7ec8\u70b9!",whitespace:!0}],initialValue:s?c.studyLast:null})(r.a.createElement(re.a,{className:"applyProject-form-textarea"}))),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"\u7814\u7a76\u8bbe\u8ba1\u4e0e\u63cf\u8ff0\uff08\u7814\u7a76\u63cf\u8ff0\uff0c\u7814\u7a76\u5468\u671f\uff0c\u7814\u7a76\u8bbe\u8ba1\uff0c\u5242\u91cf\u548c\u7ec8\u70b9\u7684\u5408\u7406\u6027\uff09\xa0")},t("studyDescription",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7814\u7a76\u8bbe\u8ba1\u4e0e\u63cf\u8ff0!",whitespace:!0}],initialValue:s?c.studyDescription:null})(r.a.createElement(re.a,{className:"applyProject-form-textarea"}))),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"\u9879\u76ee\u5165\u9009\uff08\u5165\u9009\u6807\u51c6\uff0c\u6392\u9664\u6807\u51c6\u5305\u62ec\u836f\u7269\uff0c\u6cbb\u7597\u548c\u996e\u98df\uff09\xa0")},t("studySelected",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u9879\u76ee\u5165\u9009!",whitespace:!0}],initialValue:s?c.studySelected:null})(r.a.createElement(re.a,{className:"applyProject-form-textarea"}))),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"\u8bc4\u4f30\uff08\u7597\u6548\u8bc4\u4f30\uff0c\u5b89\u5168\u8bc4\u4f30\uff0c\u5176\u4ed6\u8bc4\u4f30\uff09\xa0")},t("studyAssess",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u8bc4\u4f30!",whitespace:!0}],initialValue:s?c.studyAssess:null})(r.a.createElement(re.a,{className:"applyProject-form-textarea"}))),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"\u5b9e\u9a8c\u5ba4\u68c0\u67e5\uff1a\u68c0\u67e5\u5177\u4f53\u6307\u6807\u53c2\u6570\xa0")},t("studyCheck",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5b9e\u9a8c\u5ba4\u68c0\u67e5!",whitespace:!0}],initialValue:s?c.studyCheck:null})(r.a.createElement(re.a,{className:"applyProject-form-textarea"}))),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"\u7edf\u8ba1\u65b9\u6cd5\uff08\u7edf\u8ba1\u5206\u6790\u8ba1\u5212\uff0c\u4eba\u53e3\u7edf\u8ba1\u5b66\u548c\u5176\u4ed6\u57fa\u7ebf\u7279\u5f81\u5206\u6790\uff0c\u7597\u6548\u5206\u6790\uff0c\u836f\u4ee3\u52a8\u529b\u5b66\u5206\u6790\uff0c\u836f\u6548\u5b66\u5206\u6790\uff0c\u5b89\u5168\u5206\u6790\uff09\xa0")},t("staticMethod",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7edf\u8ba1\u65b9\u6cd5!",whitespace:!0}],initialValue:s?c.staticMethod:null})(r.a.createElement(re.a,{className:"applyProject-form-textarea"}))),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"\u4e2d\u671f\u5206\u6790\u548c\u63d0\u524d\u7ec8\u6b62\u7684\u6807\u51c6\xa0")},t("standard",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u4e2d\u671f\u5206\u6790\u548c\u63d0\u524d\u7ec8\u6b62\u7684\u6807\u51c6!",whitespace:!0}],initialValue:s?c.standard:null})(r.a.createElement(re.a,{className:"applyProject-form-textarea"}))),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"\u6837\u672c\u91cf\u7684\u786e\u5b9a\xa0")},t("sure",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6837\u672c\u91cf\u7684\u786e\u5b9a!",whitespace:!0}],initialValue:s?c.sure:null})(r.a.createElement(re.a,{className:"applyProject-form-textarea"}))),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"\u4f26\u7406\u59d4\u5458\u4f1a\xa0")},t("committee",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u4f26\u7406\u59d4\u5458\u4f1a!",whitespace:!0}],initialValue:s?c.committee:null})(r.a.createElement(re.a,{className:"applyProject-form-textarea"}))),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"\u53c2\u8003\u8d44\u6599\xa0")},t("referenceData",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u53c2\u8003\u8d44\u6599!",whitespace:!0}],initialValue:s?c.referenceData:null})(r.a.createElement(re.a,{className:"applyProject-form-textarea"}))))),r.a.createElement(u.a,{className:"applyProject-form-save",htmlType:"submit",onClick:function(){e.handleSubmit(e,1)}},"\u4fdd\u5b58"),r.a.createElement(u.a,{type:"primary",className:"applyProject-form-submit",htmlType:"submit",onClick:function(){e.handleSubmit(e,2)}},"\u63d0\u4ea4"))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(o.a,{spinning:l},r.a.createElement(_,{pages:E,page:this.state.page,onBack:this.onBack,showImage:this.showImage,onApply:this.onApply,ref:function(t){return e.componentRef=t}})))}}]),t}(n.Component),me=m.a.create()(ue),pe=a(131),de=a(56),Ee=a(64),fe=(a(431),a(230)),he=a.n(fe),ge="620384838453",be=W.a.Step,ye=function(e,t){t.status,t.index;return e},ve=function(e,t){return new Promise(function(a,n){var r=new FormData;r.append("file",e,e.name);var l=new XMLHttpRequest;l.open("POST",t),l.onload=function(){var e=JSON.parse(l.response);if(200!==l.status||0!==e.error&&"0"!==e.error)n(e);else{var t=e.data;a(t)}},l.send(r)})},ke=function(e){function t(){var e,a;Object(b.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(v.a)(this,(e=Object(k.a)(t)).call.apply(e,[this].concat(l)))).state={imageUrl:"",applyList:[],page:"listPage",record:{},loading:!1,isEdit:!1},a.componentDidMount=Object(g.a)(f.a.mark(function e(){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.getApplyData();case 2:case"end":return e.stop()}},e)})),a.getApplyData=Object(g.a)(f.a.mark(function e(){var t,n;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({loading:!0}),e.prev=1,e.next=4,S().getTable({resid:ge});case 4:t=e.sent,n=[],t.data&&t.data.data&&t.data.data.map(function(e,t){var a=e.studyType&&e.studyType.split(",");e.number=t+1,e.studyType=a,n.push(e)}),0==t.data.error&&a.setState({applyList:n}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),h.a.error(e.t0.message);case 13:a.setState({loading:!1});case 14:case"end":return e.stop()}},e,null,[[1,10]])})),a.handleSubmit=function(e,t){a.props.form.validateFieldsAndScroll(function(e,n){e||a.onSubmit(n,t)})},a.onSubmitRecord=function(){var e=Object(g.a)(f.a.mark(function e(t){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.isSubmit="Y",e.prev=1,e.next=4,S().modifyRecords({resid:ge,data:[t]});case 4:if(0!=e.sent.data.Error){e.next=9;break}return h.a.success("\u63d0\u4ea4\u6210\u529f"),e.next=9,a.getApplyData();case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),h.a.error(e.t0.message);case 14:case"end":return e.stop()}},e,null,[[1,11]])}));return function(t){return e.apply(this,arguments)}}(),a.handleUploadFile=function(){var e=Object(g.a)(f.a.mark(function e(t){var n,r;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.file,"realsun","",r="http://ivf.realsun.me:9001/api/AliyunOss/PutOneImageObject?bucketname=".concat(encodeURIComponent("realsun"),"&srctype=").concat(encodeURIComponent("")),e.prev=4,e.next=7,ve(n,r).then(function(e){a.setState({imageUrl:e})});case 7:e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(4),e.abrupt("return",h.a.error(e.t0.message));case 12:case"end":return e.stop()}},e,null,[[4,9]])}));return function(t){return e.apply(this,arguments)}}(),a.onSubmit=function(){var e=Object(g.a)(f.a.mark(function e(t,n){var r,l,c,s,i,o;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r={},l=t.study&&t.study.toString(),c=a.state,s=c.isEdit,i=c.record,1===n?r=Object(Ee.a)({doctor:t.doctor,hospital:t.hospital,post:t.post,phoneNumber:t.phone,email:t.email,teamPeople:t.teamPeople,teamPeople2:t.teamPeople2,teamPeople3:t.teamPeople3,studyType:t.study,CDPatientNumber:t.CDNumber,UCPatientNumber:t.UCNumber,doctorPhoto:a.state.imageUrl},"studyType",l):(o={doctor:t.doctor,hospital:t.hospital,post:t.post,phoneNumber:t.phone,email:t.email,teamPeople:t.teamPeople,teamPeople2:t.teamPeople2,teamPeople3:t.teamPeople3,studyType:t.study,CDPatientNumber:t.CDNumber,UCPatientNumber:t.UCNumber,doctorPhoto:a.state.imageUrl},Object(Ee.a)(o,"studyType",l),Object(Ee.a)(o,"isSubmit","Y"),r=o),!s){e.next=20;break}return r.REC_ID=i.REC_ID,e.prev=6,e.next=9,S().modifyRecords({resid:ge,data:[r]});case 9:0==e.sent.data.Error&&h.a.success("\u7533\u8bf7\u6210\u529f\uff01"),a.setState({page:"listPage",isEdit:!1}),a.getApplyData(),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(6),h.a.error(e.t0.message);case 18:e.next=32;break;case 20:return e.prev=20,e.next=23,S().addRecords({resid:ge,data:[r]});case 23:0==e.sent.data.Error&&h.a.success("\u7533\u8bf7\u6210\u529f\uff01"),a.setState({page:"listPage",isEdit:!1}),a.getApplyData(),e.next=32;break;case 29:e.prev=29,e.t1=e.catch(20),h.a.error(e.t1.message);case 32:case"end":return e.stop()}},e,null,[[6,15],[20,29]])}));return function(t,a){return e.apply(this,arguments)}}(),a.print=function(){var e=document.getElementById("applyDataBaseForm").innerHTML,t=document.body.innerHTML;return document.body.innerHTML=e,window.print(),window.location.reload(),document.body.innerHTML=t,!1},a.getBase64=function(e,t){var a=new FileReader;a.addEventListener("load",function(){return t(a.result)}),a.readAsDataURL(e)},a.handleChange=function(e){"uploading"!==e.file.status&&"done"===e.file.status&&a.getBase64(e.file.originFileObj,function(e){return a.setState({imageUrl:e})})},a.onApply=function(){a.setState({page:"applyPage"})},a.onBack=function(){a.setState({page:"listPage"})},a.onCheck=function(e){a.setState({page:"checkPage",record:e})},a.onEdit=function(e){a.setState({page:"applyPage",record:e,isEdit:!0})},a.showImage=function(){a.setState({page:"showImagePage"})},a.onLookSchedule=function(e){D.a.success({title:"\u8fdb\u5ea6\u67e5\u8be2",width:500,content:r.a.createElement("div",{style:{marginTop:"20px"}},r.a.createElement(W.a,{current:"\u901a\u8fc7"===e.status?2:1,progressDot:ye},r.a.createElement(be,{title:"\u63d0\u4ea4\u62a5\u544a"}),r.a.createElement(be,{title:"\u5ba1\u6838\u4e2d"}),r.a.createElement(be,{title:"\u5df2\u5b8c\u6210"})),",")})},a}return Object(x.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,a=this.state,n=a.imageUrl,l=a.applyList,c=a.loading,s=(a.page,a.record),i=a.isEdit,E={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},f=r.a.createElement("div",null,r.a.createElement(d.a,{type:this.state.loading?"loading":"plus"}),r.a.createElement("div",{className:"ant-upload-text"},"Upload")),h=[{label:"\u5355\u4e2d\u5fc3\u7814\u7a76",value:"\u5355\u4e2d\u5fc3\u7814\u7a76"},{label:"\u591a\u4e2d\u5fc3\u7814\u7a76",value:"\u591a\u4e2d\u5fc3\u7814\u7a76"},{label:"\u7b2c\u4e09\u65b9\u7814\u7a76",value:"\u7b2c\u4e09\u65b9\u7814\u7a76"},{label:"\u6240\u6709\u7814\u7a76",value:"\u6240\u6709\u7814\u7a76"}],g={showImagePage:r.a.createElement(K,{image:he.a}),checkPage:r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,Object.assign({},E,{className:"applyDataBase-form",id:"applyDataBaseForm"}),r.a.createElement("h1",{style:{textAlign:"center"}},"\u53c2\u4e0eCHASE-IBD\u6570\u636e\u5e93\u5efa\u8bbe\u7533\u8bf7\u8868"),r.a.createElement("h3",{style:{textAlign:"center"}},"\u7533\u8bf7\u533b\u7597\u5355\u4f4d"),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"\u7533\u8bf7\u4eba\xa0")},r.a.createElement("span",null,s.doctor)),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"\u6240\u5c5e\u5355\u4f4d\xa0")},r.a.createElement("span",null,s.hospital)),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"\u804c\u79f0\xa0")},r.a.createElement("span",null,s.post)),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"\u8054\u7cfb\u7535\u8bdd\xa0")},r.a.createElement("span",null,s.phoneNumber)),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"E-mail\xa0")},r.a.createElement("span",null,s.email)),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"IBD\u6cbb\u7597\u56e2\u961f\u540d\u5355\xa0")},r.a.createElement("span",null,s.teamPeople),"\xa0\xa0",r.a.createElement("span",null,s.teamPeople2),"\xa0\xa0",r.a.createElement("span",null,s.teamPeople3),"\xa0\xa0"),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"\u9009\u62e9\u53c2\u4e0e\u6570\u636e\u5e93\u7814\u7a76\xa0")},r.a.createElement(de.a.Group,{options:h,defaultValue:s.studyType,onChange:this.onChangeCheckbox})),r.a.createElement("h3",{style:{textAlign:"center"}},"\u8d35\u9662\u76ee\u524d\u60a3\u8005\u6570\u91cf"),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"CD\u60a3\u8005\u6570\u91cf\xa0")},r.a.createElement("span",null,s.CDPatientNumber)),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"UC\u60a3\u8005\u6570\u91cf\xa0")},r.a.createElement("span",null,s.UCPatientNumber)),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"\u533b\u5e08\u6267\u7167\xa0")},r.a.createElement("img",{src:s.doctorPhoto,alt:"avatar",style:{width:"200px",height:"200px"}}))),r.a.createElement(u.a,{icon:"download",type:"primary",className:"applyDataBase-form-print",onClick:this.print},"\u6253\u5370")),listPage:r.a.createElement(J.a,{className:"applyDataBase-content-list",itemLayout:"horizontal",dataSource:l,renderItem:function(t){return r.a.createElement(J.a.Item,{actions:[r.a.createElement("a",{key:"list-loadmore-edit",onClick:function(){e.onCheck(t)}},"\u67e5\u770b"),"Y"===t.isSubmit?r.a.createElement("a",{key:"list-loadmore-edit",onClick:function(){e.onLookSchedule(t)}},"\u8fdb\u5ea6\u67e5\u8be2"):r.a.createElement(z.a,{title:"\u4f60\u786e\u5b9a\u8981\u63d0\u4ea4\u5417",onConfirm:function(){e.onSubmitRecord(t)},okText:"Yes",cancelText:"No"},r.a.createElement("a",{key:"list-loadmore-edit"},"\u63d0\u4ea4")),r.a.createElement("a",{key:"list-loadmore-edit",onClick:function(){e.onEdit(t)}},"\u7f16\u8f91")]},r.a.createElement(J.a.Item.Meta,{title:r.a.createElement(r.a.Fragment,null,r.a.createElement("a",{className:"applyDataBase-content-list-word",href:"#"},"\u7533\u8bf7\u4eba:",t.doctor),r.a.createElement("a",{className:"applyDataBase-content-list-word",href:"#"},"\u6240\u5c5e\u5355\u4f4d:",t.hospital)),description:r.a.createElement(Y.a,{color:"\u901a\u8fc7"===t.approveStatus?"geekblue":"\u62d2\u7edd"===t.approveStatus?"red":"green"},t.approveStatus)}),r.a.createElement("div",null,"\u7533\u8bf7\u65e5\u671f\uff1a",t.REC_CRTTIME))}}),applyPage:r.a.createElement(m.a,Object.assign({},E,{className:"applyDataBase-form"}),r.a.createElement("h1",{style:{textAlign:"center"}},"\u53c2\u4e0eCHASE-IBD\u6570\u636e\u5e93\u5efa\u8bbe\u7533\u8bf7\u8868"),r.a.createElement("h3",{style:{textAlign:"center"}},"\u7533\u8bf7\u533b\u7597\u5355\u4f4d"),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"\u7533\u8bf7\u4eba\xa0")},t("doctor",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7533\u8bf7\u4eba",whitespace:!0}],initialValue:i?s.doctor:null})(r.a.createElement(p.a,null))),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"\u6240\u5c5e\u5355\u4f4d\xa0")},t("hospital",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6240\u5c5e\u5355\u4f4d",whitespace:!0}],initialValue:i?s.hospital:null})(r.a.createElement(p.a,null))),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"\u804c\u79f0\xa0")},t("post",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u60a8\u7684\u804c\u79f0\uff01",whitespace:!0}],initialValue:i?s.post:null})(r.a.createElement(p.a,null))),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"\u8054\u7cfb\u7535\u8bdd\xa0")},t("phone",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u60a8\u7684\u8054\u7cfb\u7535\u8bdd!",whitespace:!0}],initialValue:i?s.phoneNumber:null})(r.a.createElement(p.a,null))),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"E-mail\xa0")},t("email",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u60a8\u7684\u90ae\u7bb1!",whitespace:!0}],initialValue:i?s.email:null})(r.a.createElement(p.a,null))),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"IBD\u6cbb\u7597\u56e2\u961f\u540d\u5355\xa0")},t("teamPeople",{initialValue:i?s.teamPeople:null})(r.a.createElement(p.a,null)),t("teamPeople2",{initialValue:i?s.teamPeople2:null})(r.a.createElement(p.a,null)),t("teamPeople3",{initialValue:i?s.teamPeople3:null})(r.a.createElement(p.a,null))),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"\u9009\u62e9\u53c2\u4e0e\u6570\u636e\u5e93\u7814\u7a76\xa0")},t("study",{rules:[],valuePropName:"checked",initialValue:i?s.study:null})(r.a.createElement(de.a.Group,{options:h,onChange:this.onChangeCheckbox}))),r.a.createElement("h3",{style:{textAlign:"center"}},"\u8d35\u9662\u76ee\u524d\u60a3\u8005\u6570\u91cf"),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"CD\u60a3\u8005\u6570\u91cf\xa0")},t("CDNumber",{initialValue:i?s.CDPatientNumber:null})(r.a.createElement(p.a,null))),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"UC\u60a3\u8005\u6570\u91cf\xa0")},t("UCNumber",{initialValue:i?s.UCPatientNumber:null})(r.a.createElement(p.a,null))),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"\u533b\u5e08\u6267\u7167\uff1a\xa0")},t("doctorPhoto",{initialValue:i?s.doctorPhoto:null})(r.a.createElement(pe.a,{name:"avatar",listType:"picture-card",className:"avatar-uploader",showUploadList:!1,customRequest:this.handleUploadFile,onRemove:this.handleRemoveFile,onChange:this.handleChange},n?r.a.createElement("img",{src:n,alt:"avatar",style:{width:"100%"}}):f))),r.a.createElement(u.a,{className:"applyDataBase-form-save",htmlType:"submit",onClick:function(){e.handleSubmit(e,1)}},"\u4fdd\u5b58"),r.a.createElement(u.a,{type:"primary",className:"applyDataBase-form-submit",htmlType:"submit",onClick:function(){e.handleSubmit(e,2)}},"\u63d0\u4ea4"))};return r.a.createElement(o.a,{spinning:c},r.a.createElement(_,{pages:g,page:this.state.page,onBack:this.onBack,showImage:this.showImage,onApply:this.onApply,ref:function(t){return e.componentRef=t}}))}}]),t}(n.Component),xe=m.a.create()(ke),Ie=(a(480),a(47)),we=a(95),Se=(a(481),"622207867138"),Pe="620475440053",Oe="621432069832",je=(p.a.TextArea,function(e){function t(){var e,a;Object(b.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(v.a)(this,(e=Object(k.a)(t)).call.apply(e,[this].concat(r)))).state={data:[{}],page:"listPage",spin:!1,record:{},visible:!1},a.componentDidMount=Object(g.a)(f.a.mark(function e(){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.getData();case 2:case"end":return e.stop()}},e)})),a.onCheck=function(e){a.setState({page:"checkPage",record:e})},a.onBack=function(){a.setState({page:"listPage"})},a.handleCancel=function(){a.setState({visible:!1})},a.onSuggest=function(){a.setState({visible:!0})},a.onjoin=function(){var e=Object(g.a)(f.a.mark(function e(t){var n;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=JSON.parse(localStorage.getItem("doctorInfo")),t.joinPersonID=n.doctorId,t.number="",e.prev=3,e.next=6,S().addRecords({resid:Pe,data:[t]});case 6:return 0==e.sent.data.Error&&h.a.success("\u63d0\u4ea4\u6210\u529f"),e.next=10,a.getData();case 10:a.props.onUpdate(),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),h.a.error(e.t0.message);case 16:case"end":return e.stop()}},e,null,[[3,13]])}));return function(t){return e.apply(this,arguments)}}(),a.submitSuggest=function(){var e=Object(g.a)(f.a.mark(function e(t){var n;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=a.state.record,a.props.form.validateFieldsAndScroll(function(){var e=Object(g.a)(f.a.mark(function e(t,r){var l;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=2;break}return e.abrupt("return");case 2:return l=[{suggest:r.suggest,projectId:n.REC_ID}],e.prev=3,e.next=6,S().addRecords({resid:Oe,data:l});case 6:0===e.sent.data.Error&&h.a.success("\u6dfb\u52a0\u6210\u529f"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),h.a.error(e.t0.message);case 13:a.setState({visible:!1});case 14:case"end":return e.stop()}},e,null,[[3,10]])}));return function(t,a){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.getApplyData=Object(g.a)(f.a.mark(function e(){var t,a;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S().getTable({resid:Pe});case 3:if(0!==(t=e.sent).data.error){e.next=8;break}return a=[],t.data.data.map(function(e){e.joinPersonID&&a.push(e.applyId)}),e.abrupt("return",a);case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),h.a.error(e.t0.message);case 13:case"end":return e.stop()}},e,null,[[0,10]])})),a.getData=Object(g.a)(f.a.mark(function e(){var t,n,r,l;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=JSON.parse(localStorage.getItem("doctorInfo")),a.setState({spin:!0}),e.prev=2,e.next=5,S().getTable({resid:Se});case 5:if(0!==(n=e.sent).data.error){e.next=13;break}return e.next=9,a.getApplyData();case 9:r=e.sent,l=[],n.data.data.map(function(e,a){r.includes(e.applyId)||e.doctorId==t.doctorId?(e.isJoined=!0,e.number=a+1,l.push(e)):(e.number=a+1,l.push(e))}),a.setState({data:l});case 13:e.next=17;break;case 15:e.prev=15,e.t0=e.catch(2);case 17:a.setState({spin:!1});case 18:case"end":return e.stop()}},e,null,[[2,15]])})),a}return Object(x.a)(t,e),Object(y.a)(t,[{key:"componentWillUnmount",value:function(){this.setState=function(e,t){}}},{key:"render",value:function(){var e=this,t=this.state,a=t.data,n=t.spin,l=t.page,c=t.record,s=[{title:"\u5e8f\u53f7",dataIndex:"number",key:"number",width:80},{title:"\u7533\u8bf7\u65f6\u95f4",dataIndex:"applyTime",key:"applyTime",width:150},{title:"\u8bfe\u9898\u540d\u79f0",dataIndex:"task",key:"hospital",width:150},{title:"\u7533\u8bf7\u4eba",dataIndex:"doctor",key:"doctor",width:150},{title:"\u5ba1\u6279\u72b6\u6001",dataIndex:"status",key:"status",width:150,render:function(e){return r.a.createElement(Y.a,{color:"\u8fdb\u884c\u4e2d"===e?"blue":"\u5df2\u5b8c\u6210"===e?"geekblue":"green"},e)}},{title:"\u64cd\u4f5c",dataIndex:"action",key:"action",width:150,render:function(t,a){return r.a.createElement("span",null,r.a.createElement("a",{onClick:function(){e.onCheck(a)}},"\u67e5\u770b"),r.a.createElement(we.a,{type:"vertical"}),a.isJoined?null:r.a.createElement("a",{onClick:function(){e.onjoin(a)}},"\u7533\u8bf7\u52a0\u5165"))}}],i=r.a.createElement(r.a.Fragment,null,"checkPage"===l?r.a.createElement(u.a,{icon:"rollback",type:"primary",onClick:this.onBack,className:"approveList-btn"},"\u8fd4\u56de"):null,r.a.createElement(m.a,Object.assign({},{labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},{className:"showProject-form",id:"applyProjectForm"}),r.a.createElement("div",{className:"applyProject-form-contain"},r.a.createElement("div",{className:"applyProject-form-contain-info"},r.a.createElement("h1",{style:{textAlign:"center"}},"CHASE-IBD\u4e13\u9879\u8bfe\u9898\u7533\u8bf7\u8868"),r.a.createElement("h3",{style:{textAlign:"center"}},"\u57fa\u672c\u4fe1\u606f"),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"\u8bfe\u9898\u540d\u79f0\xa0")},r.a.createElement("span",null,c.task)),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"\u8bfe\u9898\u8d1f\u8d23\u4eba\xa0")},r.a.createElement("span",null,c.taskPrincipal)),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"\u7533\u8bf7\u4eba\xa0")},r.a.createElement("span",null,c.doctor)),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"\u6240\u5c5e\u5355\u4f4d\xa0")},r.a.createElement("span",null,c.hospital)),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"\u804c\u79f0\xa0")},r.a.createElement("span",null,c.post)),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"\u8054\u7cfb\u7535\u8bdd\xa0")},r.a.createElement("span",null,c.phoneNumber)),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"E-mail\xa0")},r.a.createElement("span",null,c.email)),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"\u62df\u5b9a\u56fd\u5185\u534f\u4f5c\u5355\u4f4d\xa0")},r.a.createElement("span",null,c.inlandUnit)),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"\u62df\u5b9a\u56fd\u9645\u534f\u4f5c\u5355\u4f4d\xa0")},r.a.createElement("span",null,c.foreignUnit)),r.a.createElement("h3",{style:{textAlign:"center"}},"\u7814\u7a76\u5185\u5bb9"),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"\u7814\u7a76\u7684\u7406\u7531\xa0")},r.a.createElement("span",null,c.studyReason)),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"\u7814\u7a76\u533a\u57df\xa0")},r.a.createElement("span",null,c.studyArea)),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"\u7814\u7a76\u76ee\u6807\uff08\u4e3b\u8981\u76ee\u6807\uff0c\u6b21\u8981\u76ee\u6807\uff0c\u9644\u52a0\u76ee\u6807\uff09\xa0")},r.a.createElement("span",null,c.studyTarget)),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"\u7814\u7a76\u7ec8\u70b9\uff08\u4e3b\u8981\u7ec8\u70b9\uff0c\u6b21\u8981\u7ec8\u70b9\uff0c\u9644\u52a0\u7ec8\u70b9\uff09\xa0")},r.a.createElement("span",null,c.studyLast)),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"\u7814\u7a76\u8bbe\u8ba1\u4e0e\u63cf\u8ff0\uff08\u7814\u7a76\u63cf\u8ff0\uff0c\u7814\u7a76\u5468\u671f\uff0c\u7814\u7a76\u8bbe\u8ba1\uff0c\u5242\u91cf\u548c\u7ec8\u70b9\u7684\u5408\u7406\u6027\uff09\xa0")},r.a.createElement("span",null,c.studyDescription)),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"\u9879\u76ee\u5165\u9009\uff08\u5165\u9009\u6807\u51c6\uff0c\u6392\u9664\u6807\u51c6\u5305\u62ec\u836f\u7269\uff0c\u6cbb\u7597\u548c\u996e\u98df\uff09\xa0")},r.a.createElement("span",null,c.studySelected)),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"\u7814\u7a76\u7ec8\u70b9\uff08\u4e3b\u8981\u7ec8\u70b9\uff0c\u6b21\u8981\u7ec8\u70b9\uff0c\u9644\u52a0\u7ec8\u70b9\uff09\xa0")},r.a.createElement("span",null,c.studyLast)),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"\u8bc4\u4f30\uff08\u7597\u6548\u8bc4\u4f30\uff0c\u5b89\u5168\u8bc4\u4f30\uff0c\u5176\u4ed6\u8bc4\u4f30\uff09\xa0")},r.a.createElement("span",null,c.studyAssess)),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"\u5b9e\u9a8c\u5ba4\u68c0\u67e5\uff1a\u68c0\u67e5\u5177\u4f53\u6307\u6807\u53c2\u6570\xa0")},r.a.createElement("span",null,c.studyCheck)),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"\u8bc4\u4f30\uff08\u7597\u6548\u8bc4\u4f30\uff0c\u5b89\u5168\u8bc4\u4f30\uff0c\u5176\u4ed6\u8bc4\u4f30\uff09\xa0")},r.a.createElement("span",null,c.studyAssess)),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"\u7edf\u8ba1\u65b9\u6cd5\uff08\u7edf\u8ba1\u5206\u6790\u8ba1\u5212\uff0c\u4eba\u53e3\u7edf\u8ba1\u5b66\u548c\u5176\u4ed6\u57fa\u7ebf\u7279\u5f81\u5206\u6790\uff0c\u7597\u6548\u5206\u6790\uff0c\u836f\u4ee3\u52a8\u529b\u5b66\u5206\u6790\uff0c\u836f\u6548\u5b66\u5206\u6790\uff0c\u5b89\u5168\u5206\u6790\uff09\xa0")},r.a.createElement("span",null,c.staticMethod)),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"\u4e2d\u671f\u5206\u6790\u548c\u63d0\u524d\u7ec8\u6b62\u7684\u6807\u51c6\xa0")},r.a.createElement("span",null,c.standard)),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"\u6837\u672c\u91cf\u7684\u786e\u5b9a\xa0")},r.a.createElement("span",null,c.sure)),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"\u4f26\u7406\u59d4\u5458\u4f1a\xa0")},r.a.createElement("span",null,c.committee)),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"\u53c2\u8003\u8d44\u6599\xa0")},r.a.createElement("span",null,c.referenceData))),c[621432069832]?r.a.createElement("div",{className:"applyProject-form-contain-notice"},r.a.createElement("span",null,"\u6765\u81ea\u6570\u59d4\u4f1a\u7684\u6279\u6ce8"),c[621432069832]&&c[621432069832].map(function(e){return r.a.createElement(Q,{key:e.REC_ID,data:e})})):null)));return r.a.createElement("div",{className:"approveProjectList"},"listPage"===l?r.a.createElement(o.a,{spinning:n},r.a.createElement(Ie.a,{key:"2",className:"approveProjectList-table",columns:s,dataSource:a,scroll:{x:1e3,y:"calc(100vh - 220px)"}})):i)}}]),t}(r.a.Component)),Ne=m.a.create()(je),Ce=(a(508),"621892190597"),De=(p.a.TextArea,function(e){var t=e.onDown;return[{title:"\u5e8f\u53f7",dataIndex:"number",key:"number",width:100},{title:"\u6587\u4ef6\u540d",dataIndex:"fileName",key:"fileName",width:250},{title:"\u5907\u6ce8",dataIndex:"remark",key:"remark",width:400},{title:"\u4e0a\u4f20\u8005",dataIndex:"uploadPerson",key:"uploadPerson",width:150},{title:"\u4e0a\u4f20\u65f6\u95f4",dataIndex:"uploadDate",key:"uploadDate",width:150},{title:"\u64cd\u4f5c",key:"action",width:150,render:function(e,a){return r.a.createElement("span",null,r.a.createElement("a",{onClick:function(){t(a)}},"\u4e0b\u8f7d"))}}]}),Ae=function(e){function t(){var e,a;Object(b.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(v.a)(this,(e=Object(k.a)(t)).call.apply(e,[this].concat(r)))).state={spin:!1,data:[],record:{},visible:!1,fileUrl:""},a.getData=Object(g.a)(f.a.mark(function e(){var t,n;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({loading:!0}),e.prev=1,e.next=4,S().getTable({resid:Ce});case 4:0==(t=e.sent).data.error&&(n=[],t.data.data.map(function(e,t){e.number=t+1,n.push(e)}),a.setState({data:n})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),h.a.error(e.t0.message);case 11:a.setState({loading:!1});case 12:case"end":return e.stop()}},e,null,[[1,8]])})),a.onDown=function(e){if(!e)return D.a.warning({title:"\u60a8\u8fd8\u672a\u4e0a\u4f20\u8fc7\u8d44\u6599"});for(var t=e.split(";file;"),a=0,n=t.length;a<n;a++)window.open(t[a])},a}return Object(x.a)(t,e),Object(y.a)(t,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){var e=this,t=this.state,a=t.spin,n=t.data;return r.a.createElement("div",{className:"editNotice"},r.a.createElement(o.a,{spinning:a},r.a.createElement(Ie.a,{key:"3",className:"editNotice-table",columns:De({onDown:function(t){e.onDown(t.fileUrl)},data:n}),scroll:{x:1e3,y:"calc(100vh - 260px)"},dataSource:n})))}}]),t}(n.Component),Te=m.a.create()(Ae),Re=A.a.TabPane,Ue=function(e){function t(){var e,a;Object(b.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(v.a)(this,(e=Object(k.a)(t)).call.apply(e,[this].concat(r)))).state={isUpdate:!1},a.componentDidMount=function(){},a.onUpdate=function(){a.setState({isUpdate:!0})},a}return Object(x.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this.state.isUpdate;return r.a.createElement(A.a,{defaultActiveKey:"1",tabBarStyle:{height:"70px",display:"flex",alignItems:"center",paddingLeft:"50px"}},r.a.createElement(Re,{tab:"\u901a\u77e5",key:"1"},r.a.createElement(q,null)),r.a.createElement(Re,{tab:"\u7533\u8bf7\u52a0\u5165\u6570\u636e\u5e93",key:"2"},r.a.createElement(xe,null)),r.a.createElement(Re,{tab:"\u7814\u7a76\u9879\u76ee\u7533\u8bf7",key:"3"},r.a.createElement(me,{isUpdate:e})),r.a.createElement(Re,{tab:"\u9879\u76ee\u516c\u793a",key:"4"},r.a.createElement(Ne,{onUpdate:this.onUpdate})),r.a.createElement(Re,{tab:"\u6587\u4ef6\u4e0b\u8f7d",key:"5"},r.a.createElement(Te,null)))}}]),t}(n.Component);a(509),a(510);function Le(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function Ve(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Le(a,!0).forEach(function(t){Object(Ee.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Le(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var Fe="621790850309",Me={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},Be=function(e){var t=e.onEdit,a=e.onPublish;e.data;return[{title:"\u5e8f\u53f7",dataIndex:"number",key:"number",width:80},{title:"\u6807\u9898",dataIndex:"title",key:"title",width:250,render:function(e){return r.a.createElement("a",null,e)}},{title:"\u6d88\u606f\u5185\u5bb9",dataIndex:"content",key:"content",width:400},{title:"\u53d1\u5e03\u8005",dataIndex:"publishPerson",key:"publishPerson",width:150},{title:"\u53d1\u5e03\u65f6\u95f4",dataIndex:"publishTime",key:"publishTime",width:150},{title:"\u72b6\u6001",dataIndex:"status",key:"status",render:function(e){return r.a.createElement(Y.a,{color:"\u5df2\u53d1\u5e03"===e?"geekblue":"green"},e)},width:150},{title:"\u64cd\u4f5c",key:"action",width:150,render:function(e,n){return r.a.createElement("span",null,r.a.createElement("a",{onClick:function(){t(n)}},"\u4fee\u6539"),r.a.createElement(we.a,{type:"vertical"}),"Y"===n.isPublish?r.a.createElement("a",{onClick:function(){a(n,1)}},"\u53d6\u6d88\u53d1\u5e03"):r.a.createElement("a",{onClick:function(){a(n,2)}},"\u53d1\u5e03"))}}]},qe=function(e){function t(){var e,a;Object(b.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(v.a)(this,(e=Object(k.a)(t)).call.apply(e,[this].concat(l)))).state={data:[],record:{},page:"listPage",spin:!1,visible:!1,editVisible:!1},a.handleCancel=function(){a.setState({visible:!1,editVisible:!1})},a.save=function(){var e=Object(g.a)(f.a.mark(function e(t,n){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.props.form.validateFieldsAndScroll(function(e,t){e||a.onSubmit(t,n)});case 1:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),a.onSubmit=function(){var e=Object(g.a)(f.a.mark(function e(t,n){var r,l;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(1!==n){e.next=18;break}return r=[t],e.prev=2,e.next=5,S().addRecords({resid:Fe,data:r});case 5:if(0!==e.sent.data.Error){e.next=11;break}return h.a.success("\u6dfb\u52a0\u6210\u529f"),a.setState({visible:!1}),e.next=11,a.getData();case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),h.a.error(e.t0.message);case 16:e.next=33;break;case 18:return l=[Ve({},t,{REC_ID:a.state.record.REC_ID})],e.prev=19,e.next=22,S().modifyRecords({resid:Fe,data:l});case 22:if(0!==e.sent.data.Error){e.next=28;break}return h.a.success("\u4fee\u6539\u6210\u529f"),a.setState({editVisible:!1}),e.next=28,a.getData();case 28:e.next=33;break;case 30:e.prev=30,e.t1=e.catch(19),h.a.error(e.t1.message);case 33:case"end":return e.stop()}},e,null,[[2,13],[19,30]])}));return function(t,a){return e.apply(this,arguments)}}(),a.publish=function(){a.setState({page:"listPage"})},a.onPublish=function(){var e=Object(g.a)(f.a.mark(function e(t,n){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.isPublish=1==n?"N":"Y",e.prev=1,e.next=4,S().modifyRecords({resid:Fe,data:[t]});case 4:if(0!==e.sent.data.Error){e.next=9;break}return h.a.success("\u53d1\u5e03\u6210\u529f"),e.next=9,a.getData();case 9:e.next=13;break;case 11:e.prev=11,e.t0=e.catch(1);case 13:case"end":return e.stop()}},e,null,[[1,11]])}));return function(t,a){return e.apply(this,arguments)}}(),a.renderContent=function(){switch(a.state.page){case"listPage":return a.renderListPage();case"addPage":return a.renderAddPage();case"checkPage":return a.renderCheckPage()}},a.renderListPage=function(){var e=a.state.data,t=a.state,n=t.spin,l=t.record,c=a.props.form.getFieldDecorator;return r.a.createElement("div",{className:"editNotice"},r.a.createElement(u.a,{type:"primary",className:"editNotice-add",onClick:a.onAdd},"\u6dfb\u52a0\u65b0\u901a\u77e5"),r.a.createElement(o.a,{spinning:n},r.a.createElement(Ie.a,{key:"3",className:"editNotice-table",columns:Be({onEdit:function(e){a.onEdit(e)},onPublish:function(e,t){a.onPublish(e,t)},data:e}),scroll:{x:1e3,y:"calc(100vh - 260px)"},dataSource:e}),r.a.createElement(D.a,{title:"\u6dfb\u52a0\u65b0\u901a\u77e5",visible:a.state.visible,width:700,onOk:a.handleOk,onCancel:a.handleCancel,destroyOnClose:!0,footer:[r.a.createElement(u.a,{key:"back",onClick:a.handleCancel},"\u53d6\u6d88"),r.a.createElement(u.a,{key:"submit",type:"primary",onClick:function(){a.save(1)}},"\u4fdd\u5b58"),r.a.createElement(u.a,{key:"submit",type:"primary",onClick:a.publish},"\u53d1\u5e03")]},r.a.createElement(m.a,Object.assign({},Me,{className:"editNotice-form"}),r.a.createElement(m.a.Item,{className:"editNotice-form-item",label:r.a.createElement("span",null,"\u6807\u9898\xa0")},c("title",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6807\u9898",whitespace:!0}]})(r.a.createElement(p.a,null))),r.a.createElement(m.a.Item,{className:"editNotice-form-item",label:r.a.createElement("span",null,"\u6d88\u606f\u5185\u5bb9\xa0")},c("content",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6d88\u606f\u5185\u5bb9",whitespace:!0}]})(r.a.createElement(re.a,{className:"editNotice-form-item-textarea"}))))),r.a.createElement(D.a,{title:"\u4fee\u6539\u901a\u77e5",visible:a.state.editVisible,width:700,onOk:a.handleOk,onCancel:a.handleCancel,destroyOnClose:!0,footer:[r.a.createElement(u.a,{key:"back",onClick:a.handleCancel},"\u53d6\u6d88"),r.a.createElement(u.a,{key:"submit",type:"primary",onClick:function(){a.save(2)}},"\u4fdd\u5b58")]},r.a.createElement(m.a,Object.assign({},Me,{className:"editNotice-form"}),r.a.createElement(m.a.Item,{className:"editNotice-form-item",label:r.a.createElement("span",null,"\u6807\u9898\xa0")},c("title",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6807\u9898",whitespace:!0}],initialValue:l.title})(r.a.createElement(p.a,null))),r.a.createElement(m.a.Item,{className:"editNotice-form-item",label:r.a.createElement("span",null,"\u6d88\u606f\u5185\u5bb9\xa0")},c("content",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6d88\u606f\u5185\u5bb9",whitespace:!0}],initialValue:l.content})(r.a.createElement(re.a,{className:"editNotice-form-item-textarea"})))))))},a.componentDidMount=Object(g.a)(f.a.mark(function e(){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.getData();case 2:case"end":return e.stop()}},e)})),a.getData=Object(g.a)(f.a.mark(function e(){var t,n;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({spin:!0}),e.prev=1,e.next=4,S().getTable({resid:Fe});case 4:t=e.sent,n=[],0===t.data.error&&(t.data.data.map(function(e,t){e.number=t+1,n.push(e)}),a.setState({data:n})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),h.a.error(e.t0.message);case 12:a.setState({spin:!1});case 13:case"end":return e.stop()}},e,null,[[1,9]])})),a.onAdd=function(){a.setState({visible:!0})},a.onBack=function(){a.setState({page:"listPage"})},a.onEdit=function(e){a.setState({editVisible:!0,record:e})},a}return Object(x.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this.state;e.data,e.record,e.page;return this.renderContent()}}]),t}(r.a.Component),He=m.a.create()(qe);a(511);function _e(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function Je(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_e(a,!0).forEach(function(t){Object(Ee.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_e(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var Ye="621790784304",ze=(p.a.TextArea,function(e){function t(){var e,a;Object(b.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(v.a)(this,(e=Object(k.a)(t)).call.apply(e,[this].concat(r)))).state={data:[{}],record:{},page:"listPage",spin:!1,visible:!1},a.componentDidMount=Object(g.a)(f.a.mark(function e(){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.getData();case 2:case"end":return e.stop()}},e)})),a.getData=Object(g.a)(f.a.mark(function e(){var t,n;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S().getTable({resid:Ye});case 3:0===(t=e.sent).data.error&&(n=[],t.data.data.map(function(e,t){e.number=t+1,n.push(e)}),a.setState({data:n})),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}},e,null,[[0,7]])})),a.onCheck=function(e){a.setState({page:"checkPage",record:e})},a.onBack=function(){a.setState({page:"listPage"})},a.onPassOrReject=function(){var e=Object(g.a)(f.a.mark(function e(t){var n;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=1===t?[Je({},a.state.record,{isPass:"Y"})]:[Je({},a.state.record,{isPass:"N"})],e.prev=1,e.next=4,S().modifyRecords({resid:Ye,data:n});case 4:return 0===e.sent.data.Error&&h.a.success("\u64cd\u4f5c\u6210\u529f"),a.setState({page:"listPage"}),e.next=9,a.getData();case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),h.a.error(e.t0.message);case 14:case"end":return e.stop()}},e,null,[[1,11]])}));return function(t){return e.apply(this,arguments)}}(),a}return Object(x.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.data,n=t.record,l=t.page,c=t.spin,s=(t.visible,r.a.createElement(m.a,Object.assign({},{labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},{className:"approveList-form"}),"checkPage"===l?r.a.createElement(u.a,{icon:"rollback",type:"primary",onClick:this.onBack,className:"approveList-btn"},"\u8fd4\u56de"):null,r.a.createElement("div",{className:"approveList-btns"},n.isPass?null:r.a.createElement(r.a.Fragment,null," ",r.a.createElement(u.a,{className:"approveList-btn",type:"primary",onClick:function(){e.onPassOrReject(1)}},"\u540c\u610f"))),r.a.createElement("h1",null,"\u53c2\u4e0eCHASE-IBD\u6570\u636e\u5e93\u5efa\u8bbe\u7533\u8bf7\u8868"),r.a.createElement("h3",null,"\u7533\u8bf7\u533b\u7597\u5355\u4f4d"),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"\u7533\u8bf7\u4eba\xa0")},r.a.createElement("span",null,n.doctor)),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"\u6240\u5c5e\u5355\u4f4d\xa0")},r.a.createElement("span",null,n.hospital)),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"\u804c\u79f0\xa0")},r.a.createElement("span",null,n.post)),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"\u8054\u7cfb\u7535\u8bdd\xa0")},r.a.createElement("span",null,n.phoneNumber)),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"E-mail\xa0")},r.a.createElement("span",null,n.email)),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"IBD\u6cbb\u7597\u56e2\u961f\u540d\u5355\xa0")},r.a.createElement("span",null,n.teamPeople),"\xa0\xa0",r.a.createElement("span",null,n.teamPeople2),"\xa0\xa0",r.a.createElement("span",null,n.teamPeople3),"\xa0\xa0"),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"\u9009\u62e9\u53c2\u4e0e\u6570\u636e\u5e93\u7814\u7a76\xa0")},r.a.createElement(de.a.Group,{options:[{label:"\u5355\u4e2d\u5fc3\u7814\u7a76",value:"\u5355\u4e2d\u5fc3\u7814\u7a76"},{label:"\u591a\u4e2d\u5fc3\u7814\u7a76",value:"\u591a\u4e2d\u5fc3\u7814\u7a76"},{label:"\u7b2c\u4e09\u65b9\u7814\u7a76",value:"\u7b2c\u4e09\u65b9\u7814\u7a76"},{label:"\u6240\u6709\u7814\u7a76",value:"\u6240\u6709\u7814\u7a76"}],defaultValue:n.studyType,onChange:this.onChangeCheckbox})),r.a.createElement("h3",null,"\u8d35\u9662\u76ee\u524d\u60a3\u8005\u6570\u91cf"),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"CD\u60a3\u8005\u6570\u91cf\xa0")},r.a.createElement("span",null,n.CDPatientNumber)),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"UC\u60a3\u8005\u6570\u91cf\xa0")},r.a.createElement("span",null,n.UCPatientNumber)),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"\u533b\u5e08\u6267\u7167\xa0")},r.a.createElement("img",{src:n.doctorPhoto,alt:"avatar",style:{width:"200px",height:"200px"}})))),i=[{title:"\u5e8f\u53f7",dataIndex:"number",key:"number",width:80},{title:"\u7533\u8bf7\u4eba",dataIndex:"doctor",key:"doctor",width:150},{title:"\u7533\u8bf7\u65f6\u95f4",dataIndex:"applyDate",key:"applyDate",width:150},{title:"\u6240\u5c5e\u5355\u4f4d",dataIndex:"hospital",key:"hospital",width:150},{title:"\u7814\u7a76\u7c7b\u578b",dataIndex:"studyType",key:"studyType",width:150},{title:"\u5ba1\u6279\u72b6\u6001",dataIndex:"approveStatus",key:"approveStatus",width:150,render:function(e){return r.a.createElement(Y.a,{color:"\u5ba1\u6838\u4e2d"===e?"blue":"\u901a\u8fc7"===e?"geekblue":"green"},e)}},{title:"\u64cd\u4f5c",key:"action",width:150,render:function(t,a){return r.a.createElement("span",null,r.a.createElement("a",{onClick:function(){e.onCheck(a)}},"\u67e5\u770b/\u5efa\u8bae"))}}];return r.a.createElement("div",{className:"approveList"},"listPage"===l?r.a.createElement(o.a,{spinning:c},r.a.createElement(Ie.a,{key:"1",className:"approveList-table",columns:i,dataSource:a,scroll:{x:1e3,y:"calc(100vh - 220px)"}})):s)}}]),t}(r.a.Component));a(512);function We(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function Ge(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?We(a,!0).forEach(function(t){Object(Ee.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):We(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var Ke="621790809693",Xe="621432069832",$e=p.a.TextArea,Qe=function(e){function t(){var e,a;Object(b.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(v.a)(this,(e=Object(k.a)(t)).call.apply(e,[this].concat(r)))).state={data:[{}],page:"listPage",spin:!1,record:{},visible:!1,currentSuggest:""},a.componentDidMount=Object(g.a)(f.a.mark(function e(){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.getData();case 2:case"end":return e.stop()}},e)})),a.onCheck=function(e){var t=JSON.parse(localStorage.getItem("userInfo"));e[621432069832].map(function(e){t.UserInfo.EMP_HANDPHONE==e.phone&&a.setState({currentSuggest:e})}),a.setState({page:"checkPage",record:e})},a.onBack=function(){a.setState({page:"listPage"})},a.handleCancel=function(){a.setState({visible:!1})},a.onSuggest=function(){a.setState({visible:!0})},a.onAgreeOrReject=function(){var e=Object(g.a)(f.a.mark(function e(t){var n;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=1===t?[Ge({},a.state.record,{isPass:"Y"})]:[Ge({},a.state.record,{isPass:"N"})],e.prev=1,e.next=4,S().modifyRecords({resid:Ke,data:n});case 4:return 0===e.sent.data.Error&&h.a.success("\u64cd\u4f5c\u6210\u529f"),a.setState({page:"listPage"}),e.next=9,a.getData();case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),h.a.error(e.t0.message);case 14:case"end":return e.stop()}},e,null,[[1,11]])}));return function(t){return e.apply(this,arguments)}}(),a.submitSuggest=function(){var e=Object(g.a)(f.a.mark(function e(t){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.state.record,a.props.form.validateFieldsAndScroll(function(){var e=Object(g.a)(f.a.mark(function e(t,n){var r,l;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=2;break}return e.abrupt("return");case 2:return a.state.currentSuggest&&((r=JSON.parse(JSON.stringify(a.state.currentSuggest))).suggest=n.suggest),l=[Ge({},r)],e.prev=4,e.next=7,S().modifyRecords({resid:Xe,data:l});case 7:if(0!==e.sent.data.Error){e.next=13;break}return h.a.success("\u6dfb\u52a0\u6210\u529f"),a.onBack(),e.next=13,a.getData();case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(4),h.a.error(e.t0.message);case 18:a.setState({visible:!1});case 19:case"end":return e.stop()}},e,null,[[4,15]])}));return function(t,a){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.getData=Object(g.a)(f.a.mark(function e(){var t,n;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({spin:!0}),e.prev=1,e.next=4,S().getTableNew({resid:Ke,subresid:Xe});case 4:0===(t=e.sent).data.Error&&(n=[],t.data.data.map(function(e,t){e.number=t+1,n.push(e)}),a.setState({data:n})),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(1);case 10:a.setState({spin:!1});case 11:case"end":return e.stop()}},e,null,[[1,8]])})),a}return Object(x.a)(t,e),Object(y.a)(t,[{key:"componentWillUnmount",value:function(){this.setState=function(e,t){}}},{key:"render",value:function(){var e=this,t=this.state,a=t.data,n=t.spin,l=t.page,c=t.record,s=t.visible,i=t.currentSuggest,p=this.props.form.getFieldDecorator,d={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},E=[{title:"\u5e8f\u53f7",dataIndex:"number",key:"number",width:80},{title:"\u8bfe\u9898\u540d\u79f0",dataIndex:"task",key:"task",width:150},{title:"\u7533\u8bf7\u65f6\u95f4",dataIndex:"applyTime",key:"applyTime",width:150},{title:"\u6240\u5c5e\u5355\u4f4d",dataIndex:"hospital",key:"hospital",width:150},{title:"\u53d1\u8d77\u4eba",dataIndex:"doctor",key:"doctor",width:150},{title:"\u7533\u8bf7\u52a0\u5165\u4eba",dataIndex:"joinPerson",key:"joinPerson",width:150},{title:"\u72b6\u6001",dataIndex:"applyPersonStatus",key:"applyPersonStatus",width:150},{title:"\u5ba1\u6279\u72b6\u6001",dataIndex:"status",key:"status",width:150,render:function(e){return r.a.createElement(Y.a,{color:"\u8fdb\u884c\u4e2d"===e?"blue":"\u5df2\u5b8c\u6210"===e?"geekblue":"green"},e)}},{title:"\u64cd\u4f5c",key:"action",render:function(t,a){return r.a.createElement("span",null,r.a.createElement("a",{onClick:function(){e.onCheck(a)}},"\u67e5\u770b/\u5efa\u8bae"))},width:150}],f=r.a.createElement(m.a,Object.assign({},d,{className:"approveProjectList-form"}),"checkPage"===l?r.a.createElement(u.a,{icon:"rollback",type:"primary",onClick:this.onBack,className:"approveList-btn"},"\u8fd4\u56de"):null,r.a.createElement("div",{className:"approveList-btns"},c.isPass?null:r.a.createElement(u.a,{className:"approveList-btn",type:"primary",onClick:function(){e.onAgreeOrReject(1)}},"\u540c\u610f"),r.a.createElement(u.a,{className:"approveList-btn",type:"primary",onClick:this.onSuggest},"\b\u5efa\u8bae")),r.a.createElement("div",{className:"approveProjectList-form-contain"},r.a.createElement("div",{className:"approveProjectList-form-contain-info"},r.a.createElement("h1",null,"CHASE-IBD\u4e13\u9879\u8bfe\u9898\u7533\u8bf7\u8868"),r.a.createElement("h3",null,"\u57fa\u672c\u4fe1\u606f"),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"\u8bfe\u9898\u540d\u79f0\xa0")},r.a.createElement("span",null,c.task)),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"\u8bfe\u9898\u8d1f\u8d23\u4eba\xa0")},r.a.createElement("span",null,c.taskPrincipal)),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"\u7533\u8bf7\u4eba\xa0")},r.a.createElement("span",null,c.doctor)),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"\u6240\u5c5e\u5355\u4f4d\xa0")},r.a.createElement("span",null,c.hospital)),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"\u804c\u79f0\xa0")},r.a.createElement("span",null,c.post)),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"\u8054\u7cfb\u7535\u8bdd\xa0")},r.a.createElement("span",null,c.phoneNumber)),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"E-mail\xa0")},r.a.createElement("span",null,c.email)),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"\u62df\u5b9a\u56fd\u5185\u534f\u4f5c\u5355\u4f4d\xa0")},r.a.createElement("span",null,c.inlandUnit)),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"\u62df\u5b9a\u56fd\u9645\u534f\u4f5c\u5355\u4f4d\xa0")},r.a.createElement("span",null,c.foreignUnit)),r.a.createElement("h3",null,"\u7814\u7a76\u5185\u5bb9"),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"\u7814\u7a76\u7684\u7406\u7531\xa0")},r.a.createElement("span",null,c.studyReason)),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"\u7814\u7a76\u533a\u57df\xa0")},r.a.createElement("span",null,c.studyArea)),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"\u7814\u7a76\u76ee\u6807\uff08\u4e3b\u8981\u76ee\u6807\uff0c\u6b21\u8981\u76ee\u6807\uff0c\u9644\u52a0\u76ee\u6807\uff09\xa0")},r.a.createElement("span",null,c.studyTarget)),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"\u7814\u7a76\u7ec8\u70b9\uff08\u4e3b\u8981\u7ec8\u70b9\uff0c\u6b21\u8981\u7ec8\u70b9\uff0c\u9644\u52a0\u7ec8\u70b9\uff09\xa0")},r.a.createElement("span",null,c.studyLast)),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"\u7814\u7a76\u8bbe\u8ba1\u4e0e\u63cf\u8ff0\uff08\u7814\u7a76\u63cf\u8ff0\uff0c\u7814\u7a76\u5468\u671f\uff0c\u7814\u7a76\u8bbe\u8ba1\uff0c\u5242\u91cf\u548c\u7ec8\u70b9\u7684\u5408\u7406\u6027\uff09\xa0")},r.a.createElement("span",null,c.studyDescription)),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"\u9879\u76ee\u5165\u9009\uff08\u5165\u9009\u6807\u51c6\uff0c\u6392\u9664\u6807\u51c6\u5305\u62ec\u836f\u7269\uff0c\u6cbb\u7597\u548c\u996e\u98df\uff09\xa0")},r.a.createElement("span",null,c.studySelected)),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"\u7814\u7a76\u7ec8\u70b9\uff08\u4e3b\u8981\u7ec8\u70b9\uff0c\u6b21\u8981\u7ec8\u70b9\uff0c\u9644\u52a0\u7ec8\u70b9\uff09\xa0")},r.a.createElement("span",null,c.studyLast)),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"\u8bc4\u4f30\uff08\u7597\u6548\u8bc4\u4f30\uff0c\u5b89\u5168\u8bc4\u4f30\uff0c\u5176\u4ed6\u8bc4\u4f30\uff09\xa0")},r.a.createElement("span",null,c.studyAssess)),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"\u5b9e\u9a8c\u5ba4\u68c0\u67e5\uff1a\u68c0\u67e5\u5177\u4f53\u6307\u6807\u53c2\u6570\xa0")},r.a.createElement("span",null,c.studyCheck)),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"\u8bc4\u4f30\uff08\u7597\u6548\u8bc4\u4f30\uff0c\u5b89\u5168\u8bc4\u4f30\uff0c\u5176\u4ed6\u8bc4\u4f30\uff09\xa0")},r.a.createElement("span",null,c.studyAssess)),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"\u7edf\u8ba1\u65b9\u6cd5\uff08\u7edf\u8ba1\u5206\u6790\u8ba1\u5212\uff0c\u4eba\u53e3\u7edf\u8ba1\u5b66\u548c\u5176\u4ed6\u57fa\u7ebf\u7279\u5f81\u5206\u6790\uff0c\u7597\u6548\u5206\u6790\uff0c\u836f\u4ee3\u52a8\u529b\u5b66\u5206\u6790\uff0c\u836f\u6548\u5b66\u5206\u6790\uff0c\u5b89\u5168\u5206\u6790\uff09\xa0")},r.a.createElement("span",null,c.staticMethod)),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"\u4e2d\u671f\u5206\u6790\u548c\u63d0\u524d\u7ec8\u6b62\u7684\u6807\u51c6\xa0")},r.a.createElement("span",null,c.standard)),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"\u6837\u672c\u91cf\u7684\u786e\u5b9a\xa0")},r.a.createElement("span",null,c.sure)),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"\u4f26\u7406\u59d4\u5458\u4f1a\xa0")},r.a.createElement("span",null,c.committee)),r.a.createElement(m.a.Item,{label:r.a.createElement("span",null,"\u53c2\u8003\u8d44\u6599\xa0")},r.a.createElement("span",null,c.referenceData))),c[621432069832]?r.a.createElement("div",{className:"applyProject-form-contain-notice"},r.a.createElement("span",null,"\u6765\u81ea\u6570\u59d4\u4f1a\u7684\u6279\u6ce8"),c[621432069832]&&c[621432069832].map(function(e){return r.a.createElement(Q,{key:e.REC_ID,data:e})})):null),r.a.createElement(D.a,{title:"\u5efa\u8bae",visible:s,width:500,onOk:this.handleOk,onCancel:this.handleCancel,destroyOnClose:!0,footer:[r.a.createElement(u.a,{key:"back",onClick:this.handleCancel},"\u53d6\u6d88"),r.a.createElement(u.a,{htmlType:"submit",type:"primary",onClick:function(){e.submitSuggest()}},"\u63d0\u4ea4")]},r.a.createElement(m.a,Object.assign({},d,{className:"editNotice-form"}),p("suggest",{initialValue:i.suggest,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5efa\u8bae",whitespace:!0}]})(r.a.createElement($e,{placeholder:"\u8bf7\u8f93\u5165\u5efa\u8bae",className:"editNotice-form-item-textarea"})))));return r.a.createElement("div",{className:"approveProjectList"},"listPage"===l?r.a.createElement(o.a,{spinning:n},r.a.createElement(Ie.a,{key:"2",className:"approveProjectList-table",columns:E,dataSource:a,scroll:{x:1e3,y:"calc(100vh - 220px)"}})):f)}}]),t}(r.a.Component),Ze=m.a.create()(Qe),et=(a(513),"621892190597"),tt=function(e){var t=e.onDown,a=e.onDelete;return[{title:"\u5e8f\u53f7",dataIndex:"number",key:"number",width:100},{title:"\u6587\u4ef6\u540d",dataIndex:"fileName",key:"fileName",width:250},{title:"\u5907\u6ce8",dataIndex:"remark",key:"remark",width:400},{title:"\u4e0a\u4f20\u8005",dataIndex:"uploadPerson",key:"uploadPerson",width:150},{title:"\u4e0a\u4f20\u65f6\u95f4",dataIndex:"uploadDate",key:"uploadDate",width:150},{title:"\u64cd\u4f5c",key:"action",width:150,render:function(e,n){return r.a.createElement("span",null,r.a.createElement("a",{onClick:function(){t(n)}},"\u4e0b\u8f7d"),r.a.createElement(we.a,{type:"vertical"}),r.a.createElement(z.a,{title:"\u4f60\u786e\u5b9a\u8981\u63d0\u4ea4\u5417",onConfirm:function(){a(n)},okText:"Yes",cancelText:"No"},r.a.createElement("a",null,"\u5220\u9664")))}}]},at=function(e,t){return new Promise(function(a,n){var r=new FormData;r.append("file",e,e.name);var l=new XMLHttpRequest;l.open("POST",t),l.onload=function(){var e=JSON.parse(l.response);if(200!==l.status||0!==e.error&&"0"!==e.error)n(e);else{var t=e.data;a(t)}},l.send(r)})},nt=function(e){function t(){var e,a;Object(b.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(v.a)(this,(e=Object(k.a)(t)).call.apply(e,[this].concat(r)))).state={spin:!1,data:[],record:{},visible:!1,fileUrl:""},a.componentDidMount=Object(g.a)(f.a.mark(function e(){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.getData();case 2:case"end":return e.stop()}},e)})),a.getData=Object(g.a)(f.a.mark(function e(){var t,n;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({spin:!0}),e.prev=1,e.next=4,S().getTable({resid:et});case 4:0==(t=e.sent).data.error&&(n=[],t.data.data.map(function(e,t){e.number=t+1,n.push(e)}),a.setState({data:n})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),h.a.error(e.t0.message);case 11:a.setState({spin:!1});case 12:case"end":return e.stop()}},e,null,[[1,8]])})),a.handleSubmit=function(e){a.props.form.validateFieldsAndScroll(function(e,t){e||a.onSubmit(t)})},a.onDelete=function(){var e=Object(g.a)(f.a.mark(function e(t){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S().removeRecords({resid:et,data:[t]});case 3:0==e.sent.data.Error&&h.a.success("\u64cd\u4f5c\u6210\u529f"),a.setState({visible:!1}),a.getData(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),h.a.error(e.t0.message);case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t){return e.apply(this,arguments)}}(),a.onDown=function(e){if(!e)return D.a.warning({title:"\u60a8\u8fd8\u672a\u4e0a\u4f20\u8fc7\u8d44\u6599"});for(var t=e.split(";file;"),a=0,n=t.length;a<n;a++)window.open(t[a])},a.handleUploadFile=function(){var e=Object(g.a)(f.a.mark(function e(t){var n,r;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.file,"realsun","",r="http://ivf.realsun.me:9001/api/AliyunOss/PutFilesObject?bucketname=".concat(encodeURIComponent("realsun"),"&srctype=").concat(encodeURIComponent("")),e.prev=4,e.next=7,at(n,r).then(function(e){a.setState({fileUrl:e[0]})});case 7:e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(4),e.abrupt("return",h.a.error(e.t0.message));case 12:case"end":return e.stop()}},e,null,[[4,9]])}));return function(t){return e.apply(this,arguments)}}(),a.onSubmit=function(){var e=Object(g.a)(f.a.mark(function e(t){var n;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return{},n={fileName:t.fileName,fileUrl:a.state.fileUrl,remark:t.remark},e.prev=2,e.next=5,S().addRecords({resid:et,data:[n]});case 5:0==e.sent.data.Error&&h.a.success("\u64cd\u4f5c\u6210\u529f"),a.setState({visible:!1,fileUrl:""}),a.getData(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),h.a.error(e.t0.message);case 14:case"end":return e.stop()}},e,null,[[2,11]])}));return function(t){return e.apply(this,arguments)}}(),a.onAdd=function(){a.setState({visible:!0})},a.handleCancel=function(){a.setState({visible:!1})},a.getBase64=function(e,t){var a=new FileReader;a.addEventListener("load",function(){return t(a.result)}),a.readAsDataURL(e)},a.handleChange=function(e){"uploading"!==e.file.status&&"done"===e.file.status&&a.getBase64(e.file.originFileObj,function(e){return a.setState({imageUrl:e})})},a}return Object(x.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,a=this.state,n=a.spin,l=(a.record,a.data),c=a.fileUrl;r.a.createElement("div",null,r.a.createElement(d.a,{type:this.state.loading?"loading":"plus"}),r.a.createElement("div",{className:"ant-upload-text"},"Upload"));return r.a.createElement("div",{className:"editNotice"},r.a.createElement(u.a,{type:"primary",className:"editNotice-add",onClick:this.onAdd},"\u4e0a\u4f20\u65b0\u8d44\u6599"),r.a.createElement(o.a,{spinning:n},r.a.createElement(Ie.a,{key:"3",className:"editNotice-table",columns:tt({onDown:function(t){e.onDown(t.fileUrl)},onDelete:function(t){e.onDelete(t)},data:l}),scroll:{x:1e3,y:"calc(100vh - 260px)"},dataSource:l}),r.a.createElement(D.a,{title:"\u4e0a\u4f20\u6587\u4ef6",visible:this.state.visible,width:700,onOk:this.handleOk,onCancel:this.handleCancel,destroyOnClose:!0,footer:[r.a.createElement(u.a,{key:"back",onClick:this.handleCancel},"\u53d6\u6d88"),r.a.createElement(u.a,{key:"submit",type:"primary",onClick:this.handleSubmit},"\u63d0\u4ea4")]},r.a.createElement(m.a,Object.assign({},{labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},{className:"editNotice-form"}),r.a.createElement(m.a.Item,{className:"editNotice-form-item",label:r.a.createElement("span",null,"\u8d44\u6599\u540d\u79f0\xa0")},t("fileName",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7533\u8bf7\u4eba",whitespace:!0}]})(r.a.createElement(p.a,null))),r.a.createElement(m.a.Item,{className:"editNotice-form-item",label:r.a.createElement("span",null,"\u5907\u6ce8\xa0")},t("remark",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5907\u6ce8",whitespace:!0}]})(r.a.createElement(p.a,null))),r.a.createElement(m.a.Item,{className:"editNotice-form-item",label:r.a.createElement("span",null,"\u8d44\u6599\xa0")},t("file",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7533\u8bf7\u4eba",whitespace:!0}]})(r.a.createElement("div",null,r.a.createElement(pe.a,{name:"file",showUploadList:!1,customRequest:this.handleUploadFile,onRemove:this.handleRemoveFile,onChange:this.handleChange},r.a.createElement(u.a,null,r.a.createElement(d.a,{type:"upload"})," \u4e0a\u4f20")),r.a.createElement(p.a,{style:{display:"none"},value:c}))),r.a.createElement("div",null,r.a.createElement("a",{href:c},c)))))))}}]),t}(n.Component),rt=m.a.create()(nt),lt=A.a.TabPane,ct=function(e){function t(){return Object(b.a)(this,t),Object(v.a)(this,Object(k.a)(t).apply(this,arguments))}return Object(x.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){return r.a.createElement(A.a,{defaultActiveKey:"1",tabBarStyle:{height:"70px",display:"flex",alignItems:"center",paddingLeft:"50px"}},r.a.createElement(lt,{tab:"\u7533\u8bf7\u52a0\u5165\u5ba1\u6279",key:"1"},r.a.createElement(ze,null)),r.a.createElement(lt,{tab:"\u9879\u76ee\u7814\u7a76\u5ba1\u6838",key:"2"},r.a.createElement(Ze,null)),r.a.createElement(lt,{tab:"\u7f16\u8f91\u53d1\u5e03\u901a\u77e5",key:"3"},r.a.createElement(He,null)),r.a.createElement(lt,{tab:"\u4e0a\u4f20\u8d44\u6599",key:"4"},r.a.createElement(rt,null)))}}]),t}(n.Component),st=(A.a.TabPane,"622204211916"),it="623858273868",ot=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(v.a)(this,Object(k.a)(t).call(this,e))).state={collapsed:!1,imageUrl:"",userInfo:{},currentItem:1,visible:!1,doctorInfo:{},isManager:!1,managerInfo:[],loading:!1},a.toggleCollapsed=function(){a.setState({collapsed:!a.state.collapsed})},a.getManagerInfo=function(){var e=Object(g.a)(f.a.mark(function e(t){var n;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S().getTable({resid:it});case 3:0===(n=e.sent).data.error&&(n.data.data.map(function(e){e.phone===t.UserInfo.EMP_HANDPHONE&&(localStorage.setItem("isManager",JSON.stringify(!0)),a.setState({isManager:!0}))}),a.setState({managerInfo:n.data.data[0]})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),h.a.error(e.t0.message);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),a.getDoctorInfo=function(){var e=Object(g.a)(f.a.mark(function e(t){var n;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S().getTable({resid:st,cmswhere:"phoneNumber = ".concat(t.UserInfo.EMP_HANDPHONE)});case 3:0===(n=e.sent).data.error&&(localStorage.setItem("doctorInfo",JSON.stringify(n.data.data[0])),a.setState({doctorInfo:n.data.data[0]})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),h.a.error(e.t0.message);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),a.componentDidMount=Object(g.a)(f.a.mark(function e(){var t,n,r;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a.setState({loading:!0}),t=JSON.parse(localStorage.getItem("userInfo")),n=JSON.parse(localStorage.getItem("currentItem")),r=JSON.parse(localStorage.getItem("isManager")),n?a.setState({userInfo:t,currentItem:n}):a.setState({userInfo:t}),r){e.next=10;break}return e.next=8,a.getManagerInfo(t);case 8:e.next=11;break;case 10:a.setState({isManager:!0});case 11:return e.next=13,a.getDoctorInfo(t);case 13:a.setState({loading:!1});case 14:case"end":return e.stop()}},e)})),a.getBase64=function(e,t){var a=new FileReader;a.addEventListener("load",function(){return t(a.result)}),a.readAsDataURL(e)},a.onEditInfo=Object(g.a)(f.a.mark(function e(){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({visible:!0});case 1:case"end":return e.stop()}},e)})),a.onSave=function(){var e,t=a.props.form;a.props.form.validateFieldsAndScroll(function(){var n=Object(g.a)(f.a.mark(function n(r,l){var c;return f.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!r){n.next=2;break}return n.abrupt("return");case 2:return c=[{occupationNumber:t.getFieldValue("postNumber"),hospital:t.getFieldValue("hospital"),doctor:t.getFieldValue("doctor"),post:t.getFieldValue("post"),emial:t.getFieldValue("emial"),REC_ID:a.state.doctorInfo.REC_ID}],n.prev=3,n.next=6,S().modifyRecords({resid:st,data:c});case 6:0===(e=n.sent).data.Error&&(h.a.success("\u4fee\u6539\u6210\u529f"),a.setState({doctorInfo:e.data.data[0]})),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(3),h.a.error(n.t0.message);case 13:a.setState({visible:!1});case 14:case"end":return n.stop()}},n,null,[[3,10]])}));return function(e,t){return n.apply(this,arguments)}}())},a.handleCancel=function(){a.setState({visible:!1})},a.logout=function(){localStorage.removeItem("userInfo"),localStorage.removeItem("currentItem"),a.props.history.replace({pathname:"/"})},a.onMenuDetail=function(e){"menuCommittee"===e?(localStorage.setItem("currentItem",2),a.setState({currentItem:2})):(localStorage.setItem("currentItem",1),a.setState({currentItem:1})),a.props.history.push({pathname:"/".concat(e)})},a}return Object(x.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,a=this.state.doctorInfo,n=(r.a.createElement("div",null,r.a.createElement("div",{className:"ant-upload-text"},"\u8bf7\u4e0a\u4f20\u7167\u7247")),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{margin:"10px 0 ",display:"flex",flexDirection:"column"}},r.a.createElement(u.a,{type:"primary",icon:"edit",size:"small",onClick:this.onEditInfo},"\u4fee\u6539\u4fe1\u606f"),r.a.createElement(u.a,{type:"primary",icon:"logout",size:"small",onClick:this.logout,style:{marginTop:"10px"}},"\u9000\u51fa\u767b\u5f55")))),l=this.state,c=(l.imageUrl,l.userInfo,l.currentItem),s=l.isManager,E=l.loading;return r.a.createElement(o.a,{spinning:E},r.a.createElement("div",{className:"home"},r.a.createElement(D.a,{title:"\u4fee\u6539\u4e2a\u4eba\u4fe1\u606f",visible:this.state.visible,width:600,onOk:this.handleOk,onCancel:this.handleCancel,destroyOnClose:!0,footer:[r.a.createElement(u.a,{key:"back",onClick:this.handleCancel},"\u53d6\u6d88"),r.a.createElement(u.a,{key:"submit",type:"primary",onClick:function(){e.onSave()}},"\u4fdd\u5b58")]},r.a.createElement(m.a,Object.assign({},{labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},{onSubmit:this.handleSubmit,className:"home-modal"}),r.a.createElement(m.a.Item,{label:"\u59d3\u540d"},t("doctor",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u60a8\u7684\u59d3\u540d!"}],initialValue:a.doctor})(r.a.createElement(p.a,{prefix:r.a.createElement(d.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"\u59d3\u540d"}))),r.a.createElement(m.a.Item,{label:"\u533b\u9662"},t("hospital",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u60a8\u6240\u5728\u7684\u533b\u9662!"}],initialValue:a.hospital})(r.a.createElement(p.a,{prefix:r.a.createElement(d.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"\u533b\u9662"}))),r.a.createElement(m.a.Item,{label:"\u804c\u79f0"},t("post",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u60a8\u7684\u804c\u79f0!"}],initialValue:a.post})(r.a.createElement(p.a,{prefix:r.a.createElement(d.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"\u804c\u79f0"}))),r.a.createElement(m.a.Item,{label:"\u6267\u4e1a\u8bc1\u53f7\u7801"},t("postNumber",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u60a8\u7684\u6267\u4e1a\u8bc1\u53f7\u7801!"}],initialValue:a.occupationNumber})(r.a.createElement(p.a,{prefix:r.a.createElement(d.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"\u6267\u4e1a\u8bc1\u53f7\u7801"}))),r.a.createElement(m.a.Item,{label:"\u90ae\u7bb1"},t("email",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u60a8\u7684\u90ae\u7bb1!"}],initialValue:a.email})(r.a.createElement(p.a,{prefix:r.a.createElement(d.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"\u90ae\u7bb1"}))))),r.a.createElement("div",{className:"home-left"},r.a.createElement(C.a,{selectedKeys:["".concat(c)],defaultOpenKeys:["sub1"],mode:"inline",theme:"dark",style:{height:"100vh"},inlineCollapsed:this.state.collapsed},r.a.createElement("div",{className:"home-left-logo"},r.a.createElement("img",{className:"home-left-logo-img",src:R.a})),r.a.createElement(C.a.Item,{key:"1",onClick:function(){e.onMenuDetail("home")}},r.a.createElement(d.a,{type:"pie-chart"}),r.a.createElement("span",null,"CHASE-IBD\u6570\u636e\u5e93")),s?r.a.createElement(C.a.Item,{key:"2",onClick:function(){e.onMenuDetail("menuCommittee")}},r.a.createElement(d.a,{type:"desktop"}),r.a.createElement("span",null,"\u6570\u636e\u5e93\u59d4\u5458\u4f1a")):null)),r.a.createElement("div",{className:"home-right"},r.a.createElement("div",{className:"home-right-top"},r.a.createElement("div",{className:"home-right-top-tabs"},r.a.createElement(i.a,{path:"/home",component:Ue}),r.a.createElement(i.a,{path:"/menuCommittee",component:ct})),r.a.createElement("div",{className:"home-right-top-user"},r.a.createElement(N.a,{content:n,placement:"bottom"},r.a.createElement("div",null,r.a.createElement(d.a,{type:"user",style:{fontSize:"20px"}})),r.a.createElement("div",null,a.doctor)))),r.a.createElement("div",{className:"home-right-content"},r.a.createElement("div",null)))))}}]),t}(n.Component),ut=m.a.create()(ot),mt=(a(515),function(e){function t(){var e,a;Object(b.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(v.a)(this,(e=Object(k.a)(t)).call.apply(e,[this].concat(r)))).state={disabled:!1,counts:60,showSpin:!1},a.componentDidMount=function(){},a.onLogin=function(){a.props.history.push({pathname:"/login"})},a.countDown=function(){var e=60;a.setState({disabled:!0});var t=setInterval(function(){e>0?(e--,a.setState({counts:e})):(a.setState({disabled:!1}),clearInterval(t))},1e3)},a.getVerCode=Object(g.a)(f.a.mark(function e(){var t;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=a.props.form).getFieldValue("phone")){e.next=14;break}return a.countDown(),e.prev=3,e.next=6,S().getVerCode({telephone:t.getFieldValue("phone")});case 6:e.sent,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),h.a.error(e.t0.message);case 12:e.next=15;break;case 14:h.a.info("\u8bf7\u5148\u8f93\u5165\u624b\u673a\u53f7\u83b7\u53d6\u9a8c\u8bc1\u7801");case 15:case"end":return e.stop()}},e,null,[[3,9]])})),a.register=Object(g.a)(f.a.mark(function e(){var t,n;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=a.props.form,a.props.form.validateFieldsAndScroll(function(){var e=Object(g.a)(f.a.mark(function e(r,l){var c,s;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=2;break}return e.abrupt("return");case 2:return c={Handphone:t.getFieldValue("phone"),userid:t.getFieldValue("postNumber"),validcode:t.getFieldValue("valid"),nickname:t.getFieldValue("doctor"),validresid:616852937051},s={phoneNumber:t.getFieldValue("phone"),occupationNumber:t.getFieldValue("postNumber"),hospital:t.getFieldValue("hospital"),doctor:t.getFieldValue("doctor"),email:t.getFieldValue("email"),post:t.getFieldValue("post")},a.setState({showSpin:!0}),e.prev=5,e.next=8,S().register(c);case 8:0==(n=e.sent).data.error?(h.a.success("\u6ce8\u518c\u6210\u529f"),a.props.history.push({pathname:"/login",state:{doctorData:s}})):h.a.error(n.data.message),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),h.a.error(e.t0.message);case 15:a.setState({showSpin:!1});case 16:case"end":return e.stop()}},e,null,[[5,12]])}));return function(t,a){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}},e)})),a}return Object(x.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this.state,t=e.disabled,a=e.counts,n=e.showSpin,l=this.props.form.getFieldDecorator;return r.a.createElement("div",{className:"page"},r.a.createElement("div",{className:"register-contain"},r.a.createElement(o.a,{spinning:n},r.a.createElement(m.a,{onSubmit:this.handleSubmit,className:"login-form-userName"},r.a.createElement("h1",null,"\u6ce8\u518c"),r.a.createElement(m.a.Item,null,l("doctor",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u60a8\u7684\u59d3\u540d!"}]})(r.a.createElement(p.a,{prefix:r.a.createElement(d.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"\u59d3\u540d"}))),r.a.createElement(m.a.Item,null,l("hospital",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u60a8\u6240\u5728\u7684\u533b\u9662!"}]})(r.a.createElement(p.a,{prefix:r.a.createElement(d.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"\u533b\u9662"}))),r.a.createElement(m.a.Item,null,l("post",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u60a8\u7684\u804c\u79f0!"}]})(r.a.createElement(p.a,{prefix:r.a.createElement(d.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"\u804c\u79f0"}))),r.a.createElement(m.a.Item,null,l("postNumber",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u60a8\u7684\u6267\u4e1a\u8bc1\u53f7\u7801!"}]})(r.a.createElement(p.a,{prefix:r.a.createElement(d.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"\u6267\u4e1a\u8bc1\u53f7\u7801"}))),r.a.createElement(m.a.Item,null,l("email",{rules:[{type:"email",required:!0,message:"\u8bf7\u8f93\u5165\u60a8\u7684\u90ae\u7bb1!"}]})(r.a.createElement(p.a,{prefix:r.a.createElement(d.a,{type:"mail",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"\u90ae\u7bb1"}))),r.a.createElement(m.a.Item,null,l("phone",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u60a8\u7684\u624b\u673a\u53f7!"}]})(r.a.createElement(p.a,{prefix:r.a.createElement(d.a,{type:"phone",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"\u624b\u673a\u53f7"}))),r.a.createElement(m.a.Item,{className:"login-form-valid"},l("valid",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u4f60\u7684\u9a8c\u8bc1\u7801!"}]})(r.a.createElement(p.a,{className:"login-form-valid-input",prefix:r.a.createElement(d.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"\u9a8c\u8bc1\u7801 "}))),t?r.a.createElement(u.a,{style:{marginLeft:"10px"},type:"primary",disabled:!0},a):r.a.createElement(u.a,{style:{marginLeft:"10px"},type:"primary",onClick:this.getVerCode},"\u83b7\u53d6\u9a8c\u8bc1\u7801"),r.a.createElement(u.a,{type:"primary",htmlType:"submit",className:"login-form-button",onClick:this.register,size:"large"},"\u6ce8\u518c"),r.a.createElement("div",{className:"login-form-register"},r.a.createElement("a",{onClick:this.onLogin},"\u767b\u5f55"))))))}}]),t}(n.Component)),pt=m.a.create()(mt);var dt=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(s.a,null,r.a.createElement(i.a,{exact:!0,path:"/",component:j}),r.a.createElement(i.a,{path:"/login",component:j}),r.a.createElement(i.a,{path:"/register",component:pt}),r.a.createElement(i.a,{path:"/home",component:ut}),r.a.createElement(i.a,{path:"/menuCommittee",component:ut})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(dt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[241,1,2]]]);
//# sourceMappingURL=main.466e4e92.chunk.js.map